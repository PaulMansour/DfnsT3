'bmat ← ##.life bmat                         ⍝ John Conway''s "Game of Life".⍞000D⍞000DThis version of John Conway''s cellular automaton takes a boolean matrix argument⍞000Drepresenting  a  population  of  "creatures" and returns a boolean matrix of the⍞000Dsucceeding  generation.  Each  cell in the matrix  may be occupied by a creature⍞000D(1) or be empty (0).⍞000D⍞000DThe two rules of life are:⍞000D⍞000D[1] An  empty cell that has exactly 3 neighbouring occupied cells is "born" into⍞000D    in the next generation.⍞000D⍞000D[2] An  occupied  cell that has exactly 2 or 3 neighbouring occupied cells, sur-⍞000D    vives to the next generation. Otherwise, its occupant dies (of loneliness or⍞000D    overcrowding).⍞000D⍞000D ┼───┼───┼───┼⍞000D │ · │ · │ · │⍞000D ┼───┼───┼───┼⍞000D │ ⍟ │ ⍟ │ ⍟ │⍞000D ┼───┼───┼───┼⍞000D │ · │ · │ · │⍞000D ┼───┼───┼───┼⍞000D⍞000DIn the above example,  only the creature in the centre survives but new ones are⍞000Dborn above and below it. The next generation thus has three creatures in a vert-⍞000Dical line; the generation after that reverts to the horizontal; and so on.⍞000D⍞000DFor  more  complex configurations, the sequence may develop for many generations⍞000Dbefore repeating. An instance of an interesting initial configuration is the  R-⍞000DPentomino:⍞000D⍞000D ┼───┼───┼───┼⍞000D │ · │ ⍟ │ ⍟ │⍞000D ┼───┼───┼───┼⍞000D │ ⍟ │ ⍟ │ · │⍞000D ┼───┼───┼───┼⍞000D │ · │ ⍟ │ · │⍞000D ┼───┼───┼───┼⍞000D⍞000DIn the coding in this workspace, the use of ⊖ and ⌽ render opposite edges of the⍞000Dcreatures''  rectangular universe, adjacent. In effect, the creatures live on the⍞000Dsurface  of  a  torus  (doughnut, innertube, ..). We illustrate this arrangement⍞000Dusing  a  little square diagram, which shows the orientations of the connections⍞000Dof corresponding edges:⍞000D⍞000D    torus⍞000D    ┌─→─┐ upper edge joined to lower,⍞000D    ⍋   ⍋ left edge joined to right.⍞000D    └─→─┘⍞000D⍞000DWe can visualise the square, made from a very flexible material, being distorted⍞000Dso  that the left and right sides are joined with their ⍋ arrows aligned to form⍞000Da tube.  We then stretch the tube and bend it to join its two circular ends with⍞000Dthe → arrows aligned, to form a torus.⍞000D⍞000DWe can investigate edge connections (universes, manifolds) other than the torus;⍞000Dit  is  most  convenient to explore these using auxiliary operators, leaving the⍞000Dcoding of the life function itself unchanged.⍞000D⍞000DFor example, we might want the edges not to be joined at all; creatures crossing⍞000Dthe boundaries would just disappear.⍞000D⍞000D    ┌───┐⍞000D    │   │   plane: no edge connections.⍞000D    └───┘⍞000D⍞000DEasy-peasy!  We just prefix a 0 row and column to the argument matrix and remove⍞000Da row and column from the result:⍞000D⍞000D    plane←{                 ⍝ ┌───┐⍞000D        1 0↓0 1↓⍺⍺ 0,0⍪⍵    ⍝ │   │⍞000D    }                       ⍝ └───┘⍞000D⍞000DTo see the effect, let''s make an initial configuration:⍞000D⍞000D    glider ← 3 3⍴0 0 1 1 0 1 0 1 1⍞000D⍞000Dand a function to display each generation:⍞000D⍞000D    show←{''·⍟''[⎕io+⍵]}⍞000D⍞000D    show glider⍞000D··⍟⍞000D⍟·⍟⍞000D·⍟⍟⍞000D⍞000DWe can see the glider''s first few generations, using the power operator →pow←:⍞000D⍞000D    show¨ (0 to 6) life pow¨ ⊂5 5↑glider⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│⍞000D│·····│·····│·····│·····│·····│·····│·····│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000DAlternatively,  operator  →traj← applies its operand function repeatedly until a⍞000Dcycle is detected:⍞000D⍞000D    show¨ life traj 5 5↑glider⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│·····│····⍟│⍟···⍟│⍟···⍟│⍟⍟··⍟│⍟⍟···│·⍟··⍟│·⍟⍟··│··⍟··│⍟·⍟··│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│·····│·····│·····│·····│·····│·····│⍟····│⍟⍟···│⍟⍟···│⍟⍟⍟··│·⍟⍟··│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│····⍟│·····│·····│·····│·····│·····│·····│·····│·····│·⍟···│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│⍟···⍟│⍟····│⍟··⍟·│⍟····│····⍟│⍟····│·····│·····│·····│·····│·····│⍞000D│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│⍟··⍟⍟│⍟···⍟│⍟··⍟·│⍟⍟···│·⍟···│·⍟··⍟│·⍟···│⍟····│·⍟···│·····│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000DTo save typing, we can distil the above expression into a "try" operator:⍞000D⍞000D    try←{show¨ ⍺⍺ traj ⍵}               ⍝ repeat until cycle detected.⍞000D⍞000D    life try 5 5↑glider                 ⍝ life on a torus.⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│·····│····⍟│⍟···⍟│⍟···⍟│⍟⍟··⍟│⍟⍟···│·⍟··⍟│·⍟⍟··│··⍟··│⍟·⍟··│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│·····│·····│·····│·····│·····│·····│⍟····│⍟⍟···│⍟⍟···│⍟⍟⍟··│·⍟⍟··│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│····⍟│·····│·····│·····│·····│·····│·····│·····│·····│·⍟···│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│⍟···⍟│⍟····│⍟··⍟·│⍟····│····⍟│⍟····│·····│·····│·····│·····│·····│⍞000D│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│⍟··⍟⍟│⍟···⍟│⍟··⍟·│⍟⍟···│·⍟···│·⍟··⍟│·⍟···│⍟····│·⍟···│·····│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000DNow,  spot  the difference if we apply life under our plane operator. As soon as⍞000Dthe glider hits the edge, parts of it disappear and so it no longer flies:⍞000D⍞000D    life plane try 5 5↑glider           ⍝ life on a plane.⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│·····│·····│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│·····│·····│·····│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│·····│·····│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│····⍟│····⍟│···⍟⍟│⍞000D│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│···⍟⍟│···⍟⍟│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000DNote  that  the  final  ⍟⍟ is a stable configuration, as each cell has exactly 3⍞000Dneighbours.             ⍟⍟⍞000D⍞000DOther possibilities⍞000D-------------------⍞000DWe could connect just two of the edges to see life on a cylinder:⍞000D⍞000D    cylinder←{          ⍝ ┌───┐⍞000D        1 0↓⍺⍺ 0⍪⍵      ⍝ ⍋   ⍋⍞000D    }                   ⍝ └───┘⍞000D⍞000D    life cylinder try 5 5↑glider        ⍝ life on a cylinder.⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│·····│·····│·····│·····│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│·····│·····│·····│·····│·····│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│····⍟│·····│·····│·····│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│⍟···⍟│⍟····│⍟··⍟·│⍟····│⍟···⍟│⍞000D│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│⍟··⍟⍟│⍟···⍟│⍟···⍟│⍟···⍟│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000DFor completeness, we should have a null operator for life on a torus:⍞000D⍞000D    torus←{             ⍝ ┌─→─┐⍞000D        ⍺⍺ ⍵            ⍝ ⍋   ⍋⍞000D    }                   ⍝ └─→─┘⍞000D⍞000D    life torus try 5 5↑glider           ⍝ life on a torus.⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│·····│····⍟│⍟···⍟│⍟···⍟│⍟⍟··⍟│⍟⍟···│·⍟··⍟│·⍟⍟··│··⍟··│⍟·⍟··│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│·····│·····│·····│·····│·····│·····│⍟····│⍟⍟···│⍟⍟···│⍟⍟⍟··│·⍟⍟··│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│····⍟│·····│·····│·····│·····│·····│·····│·····│·····│·⍟···│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│⍟···⍟│⍟····│⍟··⍟·│⍟····│····⍟│⍟····│·····│·····│·····│·····│·····│⍞000D│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│⍟··⍟⍟│⍟···⍟│⍟··⍟·│⍟⍟···│·⍟···│·⍟··⍟│·⍟···│⍟····│·⍟···│·····│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000DFinally,  we  could connect opposite edges with a twist to give two further uni-⍞000Dverses:  möbius  and klein. To produce the effect of a twist prior to connecting⍞000Dopposite  edges,  we  append the reverse of each of the outside columns to their⍞000Dopposing  side.  After applying the operand function, we must remember to remove⍞000Dthese extra columns.⍞000D                                        ⍝ append reversed columns.⍞000D    twist←{                             ⍝  ┌───┐    ┌ ┌───┐ ┐⍞000D        ¯1⌽⍵,⌽⊖2↑[1+⎕io]¯1⌽⍵            ⍝  ⍋   ↑ →  ↓,⍋   ↑,⍒⍞000D    }                                   ⍝  └───┘    └ └───┘ ┘⍞000D⍞000DThen:⍞000D⍞000D    plane←{                             ⍝ ┌───┐⍞000D        1 0↓0 1↓⍺⍺ 0,0⍪⍵                ⍝ │   │⍞000D    }                                   ⍝ └───┘⍞000D⍞000D    cylinder←{                          ⍝ ┌───┐⍞000D        1 0↓⍺⍺ 0⍪⍵                      ⍝ ⍋   ⍋⍞000D    }                                   ⍝ └───┘⍞000D⍞000D    torus←{                             ⍝ ┌─→─┐⍞000D        ⍺⍺ ⍵                            ⍝ ⍋   ⍋⍞000D    }                                   ⍝ └─→─┘⍞000D⍞000D    möbius←{                            ⍝ ┌───┐ möbius strip⍞000D        1 0↓0 2↓¯1⌽⍺⍺ 0⍪twist ⍵         ⍝ ⍋   ⍒⍞000D    }                                   ⍝ └───┘⍞000D⍞000D    klein←{⎕ml←0                        ⍝ ┌─→─┐ klein bottle⍞000D        0 2↓¯1⌽⍺⍺ twist ⍵               ⍝ ⍋   ⍒⍞000D    }                                   ⍝ └─→─┘⍞000D⍞000D    life möbius try 5 5↑glider          ⍝ life on a möbius strip.⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│⍟····│⍟····│⍟····│⍟····│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│⍟····│⍟····│⍟····│⍟····│⍟····│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│····⍟│·····│·····│·····│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│····⍟│·····│···⍟·│·····│····⍟│⍞000D│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│···⍟⍟│····⍟│····⍟│····⍟│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000D    life klein try 5 5↑glider           ⍝ life on a klein bottle.⍞000D┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐⍞000D│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│⍟····│⍟···⍟│⍟···⍟│⍟⍟··⍟│·⍟··⍟│·⍟···│·⍟··⍟│⍟····│·⍟···│·····│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│···⍟⍟│····⍟│⍟··⍟·│⍟····│⍟⍟···│⍟⍟··⍟│·⍟···│·⍟⍟··│··⍟··│⍟·⍟··│⍞000D│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│⍟····│⍟····│⍟····│⍟····│·····│⍟····│·····│·····│·····│·····│·····│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│····⍟│·····│···⍟·│·····│····⍟│·····│⍟····│⍟⍟···│⍟⍟···│⍟⍟⍟··│·⍟⍟··│⍞000D│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│····⍟│·····│·····│·····│·····│·····│·····│·····│·····│·⍟···│·⍟⍟··│·⍟⍟··│·⍟⍟⍟·│··⍟⍟·│·⍟·⍟·│···⍟⍟│····⍟│··⍟·⍟│····⍟│···⍟·│····⍟│·····│·····│·····│·····│·····│·····│·····│·····│·⍟···│⍞000D│·····│·····│·····│··⍟··│··⍟⍟·│··⍟⍟·│··⍟⍟⍟│···⍟⍟│··⍟·⍟│····⍟│·····│···⍟·│·····│····⍟│·····│⍟····│⍟⍟···│⍟⍟···│⍟⍟⍟··│·⍟⍟··│⍟·⍟··│··⍟⍟·│···⍟·│·⍟·⍟·│···⍟·│··⍟··│···⍟·│·····│·····│⍟····│⍟····│⍟····│⍟····│·····│⍟····│·····│·····│·····│·····│·····│⍞000D│·····│·····│·····│·····│·····│·····│·····│···⍟·│···⍟⍟│···⍟⍟│···⍟⍟│····⍟│⍟··⍟·│⍟····│⍟⍟···│⍟⍟··⍟│·⍟···│·⍟⍟··│··⍟··│⍟·⍟··│··⍟··│·⍟···│··⍟··│·····│·····│·····│·····│·····│·····│·····│⍟····│⍟···⍟│⍟···⍟│⍟⍟··⍟│·⍟··⍟│·⍟···│·⍟··⍟│⍟····│·⍟···│·····│⍞000D└─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘⍞000D⍞000DLibrary⍞000D-------⍞000DIf  you  are  viewing  this page from an APL session, you can generate a boolean⍞000Dmatrix  argument for life from any of the following patterns using these steps:⍞000D⍞000D1. While pressing the _right_ mouse button, select the area within a box.⍞000D2. From this edit window menu, select Edit->Copy.⍞000D3. Open a new edit window to receive the character matrix:  )ed -pattern⍞000D4. Select Edit->Paste in the new window, then close it.⍞000D5. Test using, for example:  {⎕←''─''⍪''·⍟''[⎕io+⍵] ⋄ ∇ life ⍵} 20 50↑pattern=''⍟''⍞000D⍞000D    R-Pentomino     Glider       Glider Gun (Gosper)⍞000D    ┌───┐           ┌───┐       ┌────────────────────────────────────┐⍞000D    │·⍟⍟│           │··⍟│       │························⍟···········│⍞000D    │⍟⍟·│           │⍟·⍟│       │······················⍟·⍟···········│⍞000D    │·⍟·│           │·⍟⍟│       │············⍟⍟······⍟⍟············⍟⍟│⍞000D    └───┘           └───┘       │···········⍟···⍟····⍟⍟············⍟⍟│⍞000D                                │⍟⍟········⍟·····⍟···⍟⍟··············│⍞000D     Bistable states            │⍟⍟········⍟···⍟·⍟⍟····⍟·⍟···········│⍞000D    ┌───┐  ┌────┐               │··········⍟·····⍟·······⍟···········│⍞000D    │⍟⍟⍟│  │·⍟⍟⍟│               │···········⍟···⍟····················│⍞000D    └───┘  │⍟⍟⍟·│               │············⍟⍟······················│⍞000D           └────┘               └────────────────────────────────────┘⍞000D     Stable states               The glider gun generates a stream of⍞000D    ┌──┐  ┌────┐                 gliders.⍞000D    │⍟⍟│  │·⍟⍟·│⍞000D    │⍟⍟│  │⍟··⍟│⍞000D    └──┘  │·⍟⍟·│⍞000D          └────┘⍞000D⍞000DTechnical note⍞000D--------------⍞000DThe expression for the next generation in the life game:⍞000D⍞000D    ↑1 ⍵∨.∧3 4=+/,¯1 0 1∘.⊖¯1 0 1∘.⌽⊂⍵      ⍝ Expression for next generation.⍞000D⍞000Dis developed in real time in YouTube video:⍞000D⍞000D    http://www.youtube.com/watch?gl=GB&hl=en-GB&v=a9xAKttWgP4&fmt=18⍞000D⍞000D(Actually, the expression on YouTube differs very slightly in that the rightmost⍞000D outer product, above, is replaced with an <each>, but is otherwise identical).⍞000D⍞000DShorter Expression⍞000D------------------⍞000DWe can transform the expression into a marginally shorter, if somewhat more com-⍞000Dplex, one by observing that:⍞000D⍞000D    ⍺ ⊖ ⍵  ←→  ⍉ ⍺ ⌽⍉ ⍵⍞000D⍞000Dergo:⍞000D⍞000D    ⍺ ⌽ ⍺ ⊖ ⍵  ←→  ⍺ ⌽ ⍉ ⍺ ⌽⍉ ⍵  ←→  ⍺ ⌽∘⍉⍣2 ⍵⍞000D⍞000Dresulting in:⍞000D⍞000D    ↑1 ⍵∨.∧3 4=+/,¯1 0 1∘.(⌽∘⍉)⍣2⊂⍵         ⍝ Expression for next generation.⍞000D⍞000DExamples:⍞000D⍞000D    {''·⍟''[⎕io+⍵]}¨life traj 5 8↑3 3⍴0 0 1 1 0 1 0 1 1       ⍝ Glider.⍞000D┌────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┐⍞000D│··⍟·····│·⍟······│··⍟·····│········│········│········│········│········│········│········│········│····⍟···│····⍟⍟··│····⍟⍟··│····⍟⍟⍟·│·····⍟⍟·│····⍟·⍟·│······⍟⍟│·······⍟│·····⍟·⍟│·······⍟│······⍟·│·······⍟│········│········│········│········│········│········│········│········│·⍟······│·⍟⍟·····│·⍟⍟·····│·⍟⍟⍟····│··⍟⍟····│·⍟·⍟····│···⍟⍟···│····⍟···│··⍟·⍟···│····⍟···│···⍟····│····⍟···│········│········│········│········│········│········│········│········│······⍟·│······⍟⍟│······⍟⍟│⍟·····⍟⍟│⍟······⍟│⍟·····⍟·│⍟⍟······│·⍟······│·⍟·····⍟│·⍟······│⍟·······│·⍟······│········│········│········│········│········│········│········│········│···⍟····│···⍟⍟···│···⍟⍟···│···⍟⍟⍟··│····⍟⍟··│···⍟·⍟··│·····⍟⍟·│······⍟·│····⍟·⍟·│······⍟·│·····⍟··│······⍟·│········│········│········│········│········│········│········│········│⍟·······│⍟⍟······│⍟⍟······│⍟⍟⍟·····│·⍟⍟·····│⍟·⍟·····│··⍟⍟····│···⍟····│·⍟·⍟····│···⍟····│··⍟·····│···⍟····│········│········│········│········│········│········│········│········│·····⍟··│·····⍟⍟·│·····⍟⍟·│·····⍟⍟⍟│······⍟⍟│·····⍟·⍟│⍟······⍟│⍟·······│⍟·····⍟·│⍟·······│·······⍟│⍟·······│········│········│········│········│········│········│········│········│··⍟·····│··⍟⍟····│··⍟⍟····│··⍟⍟⍟···│···⍟⍟···│··⍟·⍟···│····⍟⍟··│·····⍟··│···⍟·⍟··│·····⍟··│····⍟···│·····⍟··│········│········│········│········│········│········│········│········│·······⍟│⍟······⍟│⍟······⍟│⍟⍟·····⍟│⍟⍟······│·⍟·····⍟│·⍟⍟·····│··⍟·····│⍟·⍟·····│⍞000D│⍟·⍟·····│··⍟⍟····│···⍟····│·⍟·⍟····│···⍟····│··⍟·····│···⍟····│········│········│········│········│········│········│········│········│·····⍟··│·····⍟⍟·│·····⍟⍟·│·····⍟⍟⍟│······⍟⍟│·····⍟·⍟│⍟······⍟│⍟·······│⍟·····⍟·│⍟·······│·······⍟│⍟·······│········│········│········│········│········│········│········│········│··⍟·····│··⍟⍟····│··⍟⍟····│··⍟⍟⍟···│···⍟⍟···│··⍟·⍟···│····⍟⍟··│·····⍟··│···⍟·⍟··│·····⍟··│····⍟···│·····⍟··│········│········│········│········│········│········│········│········│·······⍟│⍟······⍟│⍟······⍟│⍟⍟·····⍟│⍟⍟······│·⍟·····⍟│·⍟⍟·····│··⍟·····│⍟·⍟·····│··⍟·····│·⍟······│··⍟·····│········│········│········│········│········│········│········│········│····⍟···│····⍟⍟··│····⍟⍟··│····⍟⍟⍟·│·····⍟⍟·│····⍟·⍟·│······⍟⍟│·······⍟│·····⍟·⍟│·······⍟│······⍟·│·······⍟│········│········│········│········│········│········│········│········│·⍟······│·⍟⍟·····│·⍟⍟·····│·⍟⍟⍟····│··⍟⍟····│·⍟·⍟····│···⍟⍟···│····⍟···│··⍟·⍟···│····⍟···│···⍟····│····⍟···│········│········│········│········│········│········│········│········│······⍟·│······⍟⍟│······⍟⍟│⍟·····⍟⍟│⍟······⍟│⍟·····⍟·│⍟⍟······│·⍟······│·⍟·····⍟│·⍟······│⍟·······│·⍟······│········│········│········│········│········│········│········│········│···⍟····│···⍟⍟···│···⍟⍟···│···⍟⍟⍟··│····⍟⍟··│···⍟·⍟··│·····⍟⍟·│······⍟·│····⍟·⍟·│······⍟·│·····⍟··│······⍟·│········│········│········│········│········│········│········│········│⍟·······│⍟⍟······│⍟⍟······│⍟⍟⍟·····│·⍟⍟·····│⍞000D│·⍟⍟·····│·⍟⍟·····│·⍟⍟⍟····│··⍟⍟····│·⍟·⍟····│···⍟⍟···│····⍟···│··⍟·⍟···│····⍟···│···⍟····│····⍟···│········│········│········│········│········│········│········│········│······⍟·│······⍟⍟│······⍟⍟│⍟·····⍟⍟│⍟······⍟│⍟·····⍟·│⍟⍟······│·⍟······│·⍟·····⍟│·⍟······│⍟·······│·⍟······│········│········│········│········│········│········│········│········│···⍟····│···⍟⍟···│···⍟⍟···│···⍟⍟⍟··│····⍟⍟··│···⍟·⍟··│·····⍟⍟·│······⍟·│····⍟·⍟·│······⍟·│·····⍟··│······⍟·│········│········│········│········│········│········│········│········│⍟·······│⍟⍟······│⍟⍟······│⍟⍟⍟·····│·⍟⍟·····│⍟·⍟·····│··⍟⍟····│···⍟····│·⍟·⍟····│···⍟····│··⍟·····│···⍟····│········│········│········│········│········│········│········│········│·····⍟··│·····⍟⍟·│·····⍟⍟·│·····⍟⍟⍟│······⍟⍟│·····⍟·⍟│⍟······⍟│⍟·······│⍟·····⍟·│⍟·······│·······⍟│⍟·······│········│········│········│········│········│········│········│········│··⍟·····│··⍟⍟····│··⍟⍟····│··⍟⍟⍟···│···⍟⍟···│··⍟·⍟···│····⍟⍟··│·····⍟··│···⍟·⍟··│·····⍟··│····⍟···│·····⍟··│········│········│········│········│········│········│········│········│·······⍟│⍟······⍟│⍟······⍟│⍟⍟·····⍟│⍟⍟······│·⍟·····⍟│·⍟⍟·····│··⍟·····│⍟·⍟·····│··⍟·····│·⍟······│··⍟·····│········│········│········│········│········│········│········│········│····⍟···│····⍟⍟··│····⍟⍟··│····⍟⍟⍟·│·····⍟⍟·│····⍟·⍟·│······⍟⍟│·······⍟│·····⍟·⍟│·······⍟│······⍟·│·······⍟│········│········│········│········│········│········│········│········│·⍟······│⍞000D│········│········│········│··⍟·····│··⍟⍟····│··⍟⍟····│··⍟⍟⍟···│···⍟⍟···│··⍟·⍟···│····⍟⍟··│·····⍟··│···⍟·⍟··│·····⍟··│····⍟···│·····⍟··│········│········│········│········│········│········│········│········│·······⍟│⍟······⍟│⍟······⍟│⍟⍟·····⍟│⍟⍟······│·⍟·····⍟│·⍟⍟·····│··⍟·····│⍟·⍟·····│··⍟·····│·⍟······│··⍟·····│········│········│········│········│········│········│········│········│····⍟···│····⍟⍟··│····⍟⍟··│····⍟⍟⍟·│·····⍟⍟·│····⍟·⍟·│······⍟⍟│·······⍟│·····⍟·⍟│·······⍟│······⍟·│·······⍟│········│········│········│········│········│········│········│········│·⍟······│·⍟⍟·····│·⍟⍟·····│·⍟⍟⍟····│··⍟⍟····│·⍟·⍟····│···⍟⍟···│····⍟···│··⍟·⍟···│····⍟···│···⍟····│····⍟···│········│········│········│········│········│········│········│········│······⍟·│······⍟⍟│······⍟⍟│⍟·····⍟⍟│⍟······⍟│⍟·····⍟·│⍟⍟······│·⍟······│·⍟·····⍟│·⍟······│⍟·······│·⍟······│········│········│········│········│········│········│········│········│···⍟····│···⍟⍟···│···⍟⍟···│···⍟⍟⍟··│····⍟⍟··│···⍟·⍟··│·····⍟⍟·│······⍟·│····⍟·⍟·│······⍟·│·····⍟··│······⍟·│········│········│········│········│········│········│········│········│⍟·······│⍟⍟······│⍟⍟······│⍟⍟⍟·····│·⍟⍟·····│⍟·⍟·····│··⍟⍟····│···⍟····│·⍟·⍟····│···⍟····│··⍟·····│···⍟····│········│········│········│········│········│········│········│········│·····⍟··│·····⍟⍟·│·····⍟⍟·│·····⍟⍟⍟│······⍟⍟│·····⍟·⍟│⍟······⍟│⍟·······│⍟·····⍟·│⍟·······│·······⍟│⍟·······│········│········│········│········│········│⍞000D│········│········│········│········│········│········│········│···⍟····│···⍟⍟···│···⍟⍟···│···⍟⍟⍟··│····⍟⍟··│···⍟·⍟··│·····⍟⍟·│······⍟·│····⍟·⍟·│······⍟·│·····⍟··│······⍟·│········│········│········│········│········│········│········│········│⍟·······│⍟⍟······│⍟⍟······│⍟⍟⍟·····│·⍟⍟·····│⍟·⍟·····│··⍟⍟····│···⍟····│·⍟·⍟····│···⍟····│··⍟·····│···⍟····│········│········│········│········│········│········│········│········│·····⍟··│·····⍟⍟·│·····⍟⍟·│·····⍟⍟⍟│······⍟⍟│·····⍟·⍟│⍟······⍟│⍟·······│⍟·····⍟·│⍟·······│·······⍟│⍟·······│········│········│········│········│········│········│········│········│··⍟·····│··⍟⍟····│··⍟⍟····│··⍟⍟⍟···│···⍟⍟···│··⍟·⍟···│····⍟⍟··│·····⍟··│···⍟·⍟··│·····⍟··│····⍟···│·····⍟··│········│········│········│········│········│········│········│········│·······⍟│⍟······⍟│⍟······⍟│⍟⍟·····⍟│⍟⍟······│·⍟·····⍟│·⍟⍟·····│··⍟·····│⍟·⍟·····│··⍟·····│·⍟······│··⍟·····│········│········│········│········│········│········│········│········│····⍟···│····⍟⍟··│····⍟⍟··│····⍟⍟⍟·│·····⍟⍟·│····⍟·⍟·│······⍟⍟│·······⍟│·····⍟·⍟│·······⍟│······⍟·│·······⍟│········│········│········│········│········│········│········│········│·⍟······│·⍟⍟·····│·⍟⍟·····│·⍟⍟⍟····│··⍟⍟····│·⍟·⍟····│···⍟⍟···│····⍟···│··⍟·⍟···│····⍟···│···⍟····│····⍟···│········│········│········│········│········│········│········│········│······⍟·│······⍟⍟│······⍟⍟│⍟·····⍟⍟│⍟······⍟│⍟·····⍟·│⍟⍟······│·⍟······│·⍟·····⍟│·⍟······│⍟·······│·⍟······│········│⍞000D└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘⍞000D⍞000D⍝ Conway''s automaton is best viewed as an animation.⍞000D⍝ Here is a (pretty rough) gui front end:⍞000D⍞000D    gui←{⎕io←0                                  ⍝ Life animation.⍞000D        show←{''·⍟''[⍵]}                          ⍝ formatting function.⍞000D        f←⎕ns''''                                 ⍝ localise class 9 name.⍞000D        _←''f''⎕wc''form'' ''''(2 48)(''OnTop'' 1)      ⍝ make a form.⍞000D        _←''f.t''⎕wc''Text''(show ⍵)(0 0)           ⍝ make a text box.⍞000D        f.t.(FontObj BCol)←''Dyalog Std''(3/255)  ⍝ font and white background.⍞000D        ⍺←500                                   ⍝ default 500ms delay.⍞000D        ⍺ ⍺⍺{                                   ⍝⍞000D            _←⎕dl ⍺÷1000                        ⍝ delay ⍺ ms.⍞000D            next←⍺⍺ ⍵                           ⍝ next generation.⍞000D            f.t.Text←show next                  ⍝ display new generation.⍞000D            ⍺ ∇ next                            ⍝ ... and so on.⍞000D        }⍵⍞000D    }⍞000D⍞000D⍝ Fix this function and the glider_gun as described in "Library" above⍞000D⍝ and then try:⍞000D⍞000D    100 life gui 30 80↑glider_gun=''⍟''       ⍝ glider gun on torus.⍞000D⍞000D⍝ But beware: a glider gun in a torus is doomed because it inevitably shoots⍞000D⍝ itself in the back. Artillery in a finite manifold is a dangerous business.⍞000D⍝⍞000D⍝ Aficionados of the 1979 arcade game "Asteroids",  which took place on a⍞000D⍝ torus, will recall that the manufacturers thoughtfully gave their canon⍞000D⍝ a range just short of the screen''s circumferences.⍞000D⍝ See: http://en.wikipedia.org/wiki/Asteroids_(video_game)⍞000D⍞000DSee also: traj⍞000DSee also: http://www.youtube.com/watch?gl=GB&hl=en-GB&v=a9xAKttWgP4&fmt=18⍞000D⍞000DIndex:life, game of|cellular automaton|glider|diversions|Asteroids⍞000DIndex:manifolds|klein bottle|möbius strip|torus|cylinder|r-pentomino|pentomino⍞000DIndex:YouTube⍞000DIndex;Conway J.H.|Gosper W.' 
