'##.mmind ⎕A[?4⍴6]                           ⍝ Mastermind or "cows and bulls".⍞000D⍞000DReima Naumanen provides this one-liner to play Mastermind (or "cows and bulls").⍞000D⍞000DThe rules of the game are:⍞000D⍞000D- The  machine  chooses  a  4-letter code at random from characters A B C D E F.⍞000D  Letters in the code may be repeated, so examples might be: ABDF, FFAB, BBBB,··⍞000D⍞000D- You try to guess the combination by suggesting a 4-letter code.⍞000D⍞000D- The  machine  responds  to your guess by reporting a "hint" of how many "cows"⍞000D  and "bulls" you scored:⍞000D⍞000D    A bull (*) is a correct letter in its correct position.⍞000D    A cow  (+) is a correct letter in the wrong position.⍞000D⍞000D    Note that the order and position of the *s and +s in the hint has no signif-⍞000D    icance;  for example, **+ means that two of the letters (not necessarily the⍞000D    first two) are in the correct position and that a further one is present but⍞000D    in the wrong position.⍞000D⍞000D    For  example,  if  the code is ABBA, then the following guesses would elicit⍞000D    hints:⍞000D⍞000D    code:       ABBA    ABBA    ABBA    ABBA    ABBA    ABBA    ABBA    ABBA⍞000D    guess:      EACD    CDEF    BACD    AAAD    BAAB    BABA    AAAA    ABBA⍞000D    hint:       +               ++      *+      ++++    **++    **      ****⍞000D⍞000D- Based  on  the  hints, you try repeated guesses until you score 4 bulls (****)⍞000D  and the game finishes.⍞000D⍞000D- The aim of the game is to guess the hidden code in as few moves as possible.⍞000D⍞000DFor example, if the code were ADEA, a game might look like this:⍞000D⍞000DADEA                        (hidden code)⍞000D⍞000D    mmind ⎕A[?4⍴6]⍞000DFECF                        1st guess⍞000D+                               0 bulls 1 cow⍞000DBABC                        2nd guess⍞000D+                               1 cow⍞000DEBDB                        3rd guess⍞000D++                              2 cows⍞000DDDFB                        4th guess⍞000D*                               1 bull⍞000DADEA                        5th guess⍞000D****                            4 bulls! (osuu oikein)⍞000D⍞000DNote  that  while  "official"  Mastermind  uses 4 letters chosen from 6, Reima''s⍞000Dversion works with any number chosen from any number. Try: mmind ⎕a[5?9], etc.⍞000D⍞000DTechnical notes:⍞000D⍞000DRemarkably, the game can be both programmed and invoked by entering just 77 key-⍞000Dstrokes (including the terminating _Return_) into a clear session!⍞000D⍞000D  {''*''∨.≠(⍴⍵)↑⎕←''*+''/⍨⍵{(⍺+.=⍵),⍺{+/⊃⌊/+/¨(⊂∪⍺)∘.=¨(⍺≠⍵)∘/¨⍺ ⍵}⍵}⍞235E:∇⍵}⎕A[?4⍴6]⍞000D⍞000DIf we eschew codes with repeated letters, this number drops to 55!⍞000D⍞000D  {''*''∨.≠(⍴⍵)↑⎕←''*+''/⍨⍵{(⍺+.=⍵),+/(⍺∊⍵)>⍺=⍵}⍞235E:∇⍵}⎕A[5?6]⍞000D⍞000DVeli-Matti  Jantunen  suggests  this version, which copes with wrong-length ans-⍞000Dwers:⍞000D⍞000D  {⍵{⎕←(+/¨<\(⍵=⍺)(⍵∊⍺))/''*+'' ⋄ ⍺≢⍵}(⍴⍵)↑⍞235E~'' '':∇ ⍵}⎕A[?4⍴6]⍞000D⍞000DAlternatively,  as  Reima says, you can make a human opponent sweat by using the⍞000Dcomputer to help in guessing:⍞000D⍞000DAt first 1296 possible codes:⍞000D⍞000D      p←4{⎕IO←0⋄ ↓⎕a[⍉(⍺⍴⍵)⊤⍳⍵*⍺]}6⍞000D⍞000DSay ABCC and hint is 1+1, then there are about 230 codes left:⍞000D⍞000D      {⍵⊃⍨?⍴⍵}p←p/⍨11=p{10⊥(⍺+.=⍵),⍺{+/⊃⌊/+/¨(⊂∪⍺)∘.=¨(⍺≠⍵)∘/¨⍺ ⍵}⍵}¨⊂''ABCC''⍞000DCBBF⍞000D⍞000DSay CBBF and there''ll be 46 left⍞000D⍞000D      {⍵⊃⍨?⍴⍵}p←p/⍨ 1=p{10⊥(⍺+.=⍵),⍺{+/⊃⌊/+/¨(⊂∪⍺)∘.=¨(⍺≠⍵)∘/¨⍺ ⍵}⍵}¨⊂''CBBF''⍞000DACAA⍞000D⍞000DSay ACAA and get 3+0 so⍞000D⍞000D      {⍵⊃⍨?⍴⍵}p←p/⍨30=p{10⊥(⍺+.=⍵),⍺{+/⊃⌊/+/¨(⊂∪⍺)∘.=¨(⍺≠⍵)∘/¨⍺ ⍵}⍵}¨⊂''ACAA''⍞000D⍞000DThere will be 4 codes left. A Lucky quess ends the game:⍞000D⍞000DACAE⍞000D⍞000DReferences:⍞000D⍞000DMayer,A., "Cows and Bulls", Vector 10.1, July 1993.⍞000Dhttp://www.vector.org.uk/archive/v101/mayer101_39.htm⍞000D⍞000DIndex:Mastermind|cows and bulls, game of|diversions|REPL⍞000DIndex;Naumanen R.|Jantunen V-M.' 
