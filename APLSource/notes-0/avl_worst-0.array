'Worst-case AVL trees⍞000D--------------------⍞000DFunction for a depth-⍵ worst-case AVL tree.⍞000D⍞000D    fib←{                           ⍝ Depth-⍵ worst-case fibonacci tree.⍞000D        ⊃⍬⍴⎕IO{                     ⍝ first item is tree.⍞000D            ⍵=0:0 ⍺                 ⍝ f 0 → []⍞000D            ⍵=1:(⍺ 0(0 0))(⍺+1)     ⍝ f 1 → ⍺ [] []⍞000D            l m←⍺ ∇ ⍵-2             ⍝ left subtree and next value.⍞000D            r n←(m+1)∇ ⍵-1          ⍝ right ..  ..  ..  ..  ..⍞000D            (m 1(l r))n             ⍝ f ⍵+1 → ⍺ [f ⍵-2] [f ⍵-1]⍞000D        }⍵                          ⍝ :: tree next ← next ∇ depth⍞000D    }⍞000D⍞000D    ⍕avl fib 7                      ⍝ Depth-7 worst case.⍞000D             ┌1=1⍞000D         ┌2=2┤⍞000D         │   └>3=3┐⍞000D         │        └>4=4⍞000D     ┌5=5┤⍞000D     │   │    ┌6=6┐⍞000D     │   │    │   └>7=7⍞000D     │   └>8=8┤⍞000D     │        │      ┌9=9⍞000D     │        └>10=10┤⍞000D     │               └>11=11┐⍞000D     │                      └>12=12⍞000D13=13┤⍞000D     │            ┌14=14┐⍞000D     │            │     └>15=15⍞000D     │      ┌16=16┤⍞000D     │      │     │      ┌17=17⍞000D     │      │     └>18=18┤⍞000D     │      │            └>19=19┐⍞000D     │      │                   └>20=20⍞000D     └>21=21┤⍞000D            │            ┌22=22⍞000D            │      ┌23=23┤⍞000D            │      │     └>24=24┐⍞000D            │      │            └>25=25⍞000D            └>26=26┤⍞000D                   │      ┌27=27┐⍞000D                   │      │     └>28=28⍞000D                   └>29=29┤⍞000D                          │      ┌30=30⍞000D                          └>31=31┤⍞000D                                 └>32=32┐⍞000D                                        └>33=33⍞000D⍞000D    ⍕avl (fib 7) ~avl 1             ⍝ removing node 1:⍞000D                       ┌2=2⍞000D                   ┌3=3┤⍞000D                   │   └4=4⍞000D               ┌5=5┤⍞000D               │   └6=6┐⍞000D               │       └>7=7⍞000D           ┌8=8┤⍞000D           │   │     ┌9=9⍞000D           │   └10=10┤⍞000D           │         └>11=11┐⍞000D           │                └>12=12⍞000D     ┌13=13┤⍞000D     │     │     ┌14=14┐⍞000D     │     │     │     └>15=15⍞000D     │     └16=16┤⍞000D     │           │      ┌17=17⍞000D     │           └>18=18┤⍞000D     │                  └>19=19┐⍞000D     │                         └>20=20⍞000D21=21┤⍞000D     │           ┌22=22⍞000D     │     ┌23=23┤⍞000D     │     │     └>24=24┐⍞000D     │     │            └>25=25⍞000D     └26=26┤⍞000D           │      ┌27=27┐⍞000D           │      │     └>28=28⍞000D           └>29=29┤⍞000D                  │      ┌30=30⍞000D                  └>31=31┤⍞000D                         └>32=32┐⍞000D                                └>33=33⍞000DSee also: avl' 
