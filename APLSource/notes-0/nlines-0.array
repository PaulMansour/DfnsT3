'n ← ##.nlines simple                ⍝ Number of display lines for simple array.⍞000D⍞000DDefault display of APL arrays is arranged with items along the last axis  across⍞000Dthe page and items along leading axes downwards.  Planes of items are  separated⍞000Dby successively higher numbers of blank lines: trailing rank-2 arrays are separ-⍞000Dated by 1 line; rank-3 arrays by 2 lines; ...; rank-⍵ arrays by (0⌈⍵-1) lines.⍞000D⍞000D          display {⎕fmt 2 ⍵ 2 2⍴⍳24}¨3 2 1 0    ⍝ format of some rank-4 arrays.⍞000D    ┌→────────────────────────────┐⍞000D    │ ┌→────┐ ┌→────┐ ┌→──┐ ┌→──┐ │⍞000D    │ ↓ 1  2│ ↓ 1  2│ ↓1 2│ ↓   │ │⍞000D    │ │ 3  4│ │ 3  4│ │3 4│ │   │ │⍞000D    │ │     │ │     │ │   │ └───┘ │⍞000D    │ │ 5  6│ │ 5  6│ │   │       │⍞000D    │ │ 7  8│ │ 7  8│ │5 6│       │⍞000D    │ │     │ │     │ │7 8│       │⍞000D    │ │ 9 10│ │     │ └───┘       │⍞000D    │ │11 12│ │ 9 10│             │⍞000D    │ │     │ │11 12│             │⍞000D    │ │     │ │     │             │⍞000D    │ │13 14│ │13 14│             │⍞000D    │ │15 16│ │15 16│             │⍞000D    │ │     │ └─────┘             │⍞000D    │ │17 18│                     │⍞000D    │ │19 20│                     │⍞000D    │ │     │                     │⍞000D    │ │21 22│                     │⍞000D    │ │23 24│                     │⍞000D    │ └─────┘                     │⍞000D    └∊────────────────────────────┘⍞000D⍞000DJay Foad''s function returns the number of lines of output that its simple  argu-⍞000Dment array would produce.⍞000D⍞000DThis function is presented as a programming challenge, rather than as having any⍞000Dpractical application. In fact a sneaky alternative coding could be: ⍬∘⍴∘⍴∘⎕fmt.⍞000DNote that the occurrence of a newline character in the argument array will disp-⍞000Dlay more lines than [nlines] predicts.⍞000D⍞000DIt is left as an  "exercise for the student"  to extend this function to  nested⍞000Darrays :-).⍞000D⍞000DExamples:⍞000D⍞000D      2 3 4⍴⍳24                     ⍝ default output of rank-3 array ...⍞000D 1  2  3  4⍞000D 5  6  7  8⍞000D 9 10 11 12⍞000D⍞000D13 14 15 16⍞000D17 18 19 20⍞000D21 22 23 24⍞000D⍞000D      nlines 2 3 4⍴⍳24              ⍝ ... produces 1+2×3 lines of output⍞000D7⍞000D⍞000D      2 2 2 2⍴2                     ⍝ rank-4 array ...⍞000D2 2⍞000D2 2⍞000D⍞000D2 2⍞000D2 2⍞000D⍞000D⍞000D2 2⍞000D2 2⍞000D⍞000D2 2⍞000D2 2⍞000D      nlines 2 2 2 2⍴2              ⍝ ... 12 lines.⍞000D12⍞000D      nlines 2 0 3⍴4                ⍝ null array.⍞000D1⍞000D      nlines 2 3 0 0⍴0              ⍝ null array.⍞000D6⍞000D      nlines 1 2 3 4 5 6 7 8⍴9      ⍝ rank-8 array.⍞000D5907⍞000D⍞000D      cfmt←{(nlines ⍵)≡⊃⎕fmt ⍵}     ⍝ compare with output from monadic ⎕fmt.⍞000D⍞000D      shapes←0 1 2 3∘adic¨⍳1000     ⍝ selection of shapes⍞000D⍞000D      ∧/ cfmt¨ shapes ⍴¨ 0          ⍝ compare selection of arrays⍞000D1⍞000D⍞000DSee also: adic⍞000D⍞000DIndex:default display|lines of output⍞000DIndex;Foad J.' 
