'dates ← {g←¯53799} ##.date daynos           ⍝ ⎕TS format from day number.⍞000D⍞000DThe argument is an array of day numbers since 1899-12-31 00:00:00. The resulting⍞000Darray has rank one greater than [daynos] where 7-vectors along the new last axis⍞000Dare ⎕TS-style date and time: (↓date ⍵)≡date¨⍵.⍞000D⍞000DOptional  left argument {g} specifies the day number of the →Gregorian_calendar←⍞000Dreform  (default ¯53799 ≡≡ 1752-09-02).  This is of interest only when exploring⍞000Dhistorical dates.⍞000D⍞000D(⍞000D    Bug: Although [date] accounts for the "removal" of 11 days in September 1752⍞000D    for  the  change to the Gregorian calendar, it does not accommodate the att-⍞000D    endant  change  to  New  Year''s  Day.  Prior  to  the  implementation of the⍞000D    →British_Calendar_Act_1751←  the year changed at midnight on the 24th March,⍞000D    making  25th  March  New  Year''s Day. The following pairs of dates should be⍞000D    contiguous in the British calendar:⍞000D⍞000D    1750-03-24  1751-03-25      ⍝ Julian year change in March 1750.⍞000D    1751-12-31  1752-01-01 *    ⍝ Calendar Act year change on Dec 31 in 1751.⍞000D    1752-03-24  1752-03-25      ⍝ no Julian year change March 1752.⍞000D    1752-09-02  1752-09-14      ⍝ change to Gregorian calendar.⍞000D    1752-12-31  1753-01-01      ⍝ normal Gregorian year change 1752-1753.⍞000D⍞000D  * "...  according  to  which the Year of our Lord beginneth on the 25th Day of⍞000D     March,  shall  not  be  made use of from and after the last Day of December⍞000D     1751; and that the first Day of January next following the said last Day of⍞000D     December shall be reckoned, taken, deemed and accounted to be the first Day⍞000D     of the Year of our Lord 1752; ..."⍞000D)⍞000D⍞000DRef: Jean Meeus, "Astronomical Algorithms", p59. ISBN 0-943396-61-1, 1998.⍞000D⍞000DPeter-Michael  Hager  suggests this nifty one-liner, which is good for dates be-⍞000Dtween 1752-09-14 and 2400-02-28:⍞000D⍞000D    n_date←{y,m,1+d-(m←m+.≤d)⊃m←+\0 31,(29-×4|1⊃y d←⌊0 365.25⊤694035+⌊(36525×⍵-60.5+0.5××⍵-36584)÷36524),9⍴5⍴31 30}⍞000D⍞000DExamples:⍞000D⍞000D    date 12791                              ⍝ Whole number of days.⍞000D1935 1 8 0 0 0 0⍞000D⍞000D    date 12791.51388889                     ⍝ Part way through day.⍞000D1935 1 8 12 20 0 0⍞000D⍞000D     show←timestamp∘''''                      ⍝ Format ⎕TS vector.⍞000D⍞000D     show date 1e5÷3                        ⍝ Fractional number of days.⍞000D1991-04-06 08:00:00⍞000D⍞000D     show date ¯7596.520833                 ⍝ Negative days before 1899 12 31.⍞000D1879-03-14 11:30:00⍞000D⍞000D     date 2 2⍴14892 15509 15761 14798       ⍝ (⍴date ⍵) ≡ (⍴⍵),7.⍞000D1940 10  9 0 0 0 0⍞000D1942  6 18 0 0 0 0⍞000D⍞000D1943  2 25 0 0 0 0⍞000D1940  7  7 0 0 0 0⍞000D⍞000D    date ¯53799 + 0 1                       ⍝ 1752 calendar reform⍞000D1752 9  2 0 0 0 0⍞000D1752 9 14 0 0 0 0⍞000D⍞000D    ⎕ts≡date days ⎕ts                       ⍝ Full circle.⍞000D1⍞000D    eudate←¯115860∘date                     ⍝ European calendar reform:⍞000D⍞000D    eudate ¯115860+0 1                      ⍝ 1582: Oct 4th and 15th contiguous.⍞000D1582 10  4 0 0 0 0⍞000D1582 10 15 0 0 0 0⍞000D⍞000DSee also: Dates days cal timestamp⍞000DSee also: Gregorian_calendar British_Calendar_Act_1751⍞000D⍞000DIndex:Gregorian calendar|1752|calendar⍞000DIndex;Meeus J.|Hager P-M.' 
