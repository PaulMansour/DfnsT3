'daynos ← {g←17520902} ##.days dates     ⍝ Day number from ⎕TS format.⍞000D⍞000DReturns number of days since 1899-12-31 00:00:00 for each ⎕TS-style vector along⍞000Dthe  last axis of its argument. Part of day appears as a fractional component of⍞000Dthe  result.  For  example,  midnight on new year''s eve 31 Dec 1899 yields 1 and⍞000Dnoon on the following day (1 Jan 1900) is 1.5.⍞000D⍞000DOptional  left argument {g}, a scalar number of the form yyyymmdd, specifies the⍞000Ddate  of  the →Gregorian_calendar← reform (default 17520902 ≡≡ 1752-09-02). This⍞000Dis of interest only when exploring historical dates, see the example below.⍞000D⍞000D(⍞000D    Bug: Although [days] accounts for the "removal" of 11 days in September 1752⍞000D    for  the  change to the Gregorian calendar, it does not accommodate the att-⍞000D    endant  change  to  New  Year''s  Day.  Prior  to  the  implementation of the⍞000D    →British_Calendar_Act_1751←  the year changed at midnight on the 24th March,⍞000D    making  25th  March  New  Year''s Day. The following pairs of dates should be⍞000D    contiguous in the British calendar:⍞000D⍞000D    1750-03-24  1751-03-25      ⍝ Julian year change in March 1750.⍞000D    1751-12-31  1752-01-01 *    ⍝ Calendar Act year change on Dec 31 in 1751.⍞000D    1752-03-24  1752-03-25      ⍝ no Julian year change March 1752.⍞000D    1752-09-02  1752-09-14      ⍝ change to Gregorian calendar.⍞000D    1752-12-31  1753-01-01      ⍝ normal Gregorian year change 1752-1753.⍞000D⍞000D  * "...  according  to  which the Year of our Lord beginneth on the 25th Day of⍞000D     March,  shall  not  be  made use of from and after the last Day of December⍞000D     1751; and that the first Day of January next following the said last Day of⍞000D     December shall be reckoned, taken, deemed and accounted to be the first Day⍞000D     of the Year of our Lord 1752; ..."⍞000D)⍞000D⍞000DRef: Jean Meeus, "Astronomical Algorithms", p59. ISBN 0-943396-61-1, 1998.⍞000D⍞000DSometimes  called  the  "International Day Number" or IDN, [days] is an origin-1⍞000Dsystem, where 1900-01-01 00:00:00 ≡≡ 1.0. Compare this with the →mayan← origin-0⍞000Dscheme, where a day started at noon.⍞000D⍞000DPeter-Michael  Hager  suggests this nifty one-liner, which is good for dates be-⍞000Dtween 1752-09-14 and 2400-02-28:⍞000D⍞000D    n_days←{{¯693896+(⍵>730500)+⌊36524×⍵÷36525}¯60++/⍵[2]↑(⌈365.25⊥⍵[1 3]),31,(29-×4|1⊃⍵),9⍴5⍴31 30}⍞000D⍞000DExamples:⍞000D⍞000D    days ⎕ts                            ⍝ Current date and time.⍞000D38455.58296⍞000D⍞000D    days 1935 1 8                       ⍝ Whole number of days.⍞000D12791⍞000D⍞000D    days 1935 1 8, 12 20                ⍝ Part way through day.⍞000D12791.51389⍞000D⍞000D    days 1879 3 14 11 30                ⍝ Negative for dates before 1899 12 31.⍞000D¯7596.520833⍞000D⍞000D    -/⎕←days 2 3⍴1533 8 26, 1536 5 19   ⍝ Matrix of dates → vector of day nos.⍞000D¯133795 ¯132798⍞000D¯997⍞000D    ⎕ts≡date days ⎕ts                   ⍝ Full circle.⍞000D1⍞000D    days↑1752 09∘,¨02 14                ⍝ Sept 1752: 2nd and 14th contiguous.⍞000D¯53799 ¯53798⍞000D⍞000D    --/days ↑1700∘,¨(2 29)(3 1)         ⍝ 1700 was still a leap year in GB.⍞000D1⍞000D    eudays←15821004∘days                ⍝ European Gregorian calendar reform.⍞000D⍞000D    eudays ↑1582 10∘,¨04 15             ⍝ Oct 1582: 4th and 15th contiguous.⍞000D¯115860 ¯115859⍞000D⍞000D    --/eudays ↑1700∘,¨(2 28)(3 1)       ⍝ 1700 was not a leap year in Europe.⍞000D1⍞000D⍞000DSee also: Dates date cal timestamp mayan compidn⍞000DSee also: Gregorian_calendar British_Calendar_Act_1751⍞000D⍞000DIndex:date|1752|International Day Number⍞000DIndex;Meeus J.|Hager P-M.' 
