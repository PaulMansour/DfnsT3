'cmat ← {h v t←⍬ ⍬ 0} ##.box text            ⍝ Box the simple text array ⍵.⍞000D⍞000DSupplied  by Veli-Matti Jantunen, [box] applies borders and horizontal and vert-⍞000Dical dividers to simple character matrix [text].⍞000D⍞000DOptional  left  argument  (default ⍬ ⍬ 0) determines whether to draw borders and⍞000Dwhere to draw dividers.⍞000D⍞000D ⍺: [1] = horizontal lines⍞000D    [2] = vertical lines⍞000D⍞000DAn optional 3rd item specifies line type:⍞000D⍞000D    [3] = type: 0 = box drawing chars, 1 = raw boxing⍞000D⍞000DFor example:⍞000D⍞000D      box 6 10⍴⎕a           ⍝ Borders but no dividers, by default.⍞000D┌──────────┐⍞000D│ABCDEFGHIJ│⍞000D│KLMNOPQRST│⍞000D│UVWXYZABCD│⍞000D│EFGHIJKLMN│⍞000D│OPQRSTUVWX│⍞000D│YZABCDEFGH│⍞000D└──────────┘⍞000D⍞000D       ┌──────────────────── Horizontal dividers after 2nd and 4th row.⍞000D       │    ┌─────────────── Vertical dividers after 3rd, 6th and 7th column.⍞000D       │    │⍞000D      (2 4)(3 6 7)box 6 10⍴⎕a⍞000D┌───┬───┬─┬───┐⍞000D│ABC│DEF│G│HIJ│⍞000D│KLM│NOP│Q│RST│⍞000D├───┼───┼─┼───┤⍞000D│UVW│XYZ│A│BCD│⍞000D│EFG│HIJ│K│LMN│⍞000D├───┼───┼─┼───┤⍞000D│OPQ│RST│U│VWX│⍞000D│YZA│BCD│E│FGH│⍞000D└───┴───┴─┴───┘⍞000D⍞000D      ┌───────────────────── No horizontal dividers.⍞000D      │  ┌────────────────── Vertical dividers after each column.⍞000D      │  │⍞000D      ⍬(⍳5) box 5 5⍴⎕a⍞000D┌─┬─┬─┬─┬─┐⍞000D│A│B│C│D│E│⍞000D│F│G│H│I│J│⍞000D│K│L│M│N│O│⍞000D│P│Q│R│S│T│⍞000D│U│V│W│X│Y│⍞000D└─┴─┴─┴─┴─┘⍞000D⍞000DThe  horizontal  or  vertical  border may be switched off by prefixing ¯1 to the⍞000Dfirst or second control item, respectively.⍞000D⍞000D       ┌──────────────────── Horizontal dividers after 2nd and 3rd rows.⍞000D       │    ┌─────────────── Vertical dividers after 1st and 4th cols.⍞000D       │    │⍞000D      (2 3)(1 4) box 5 5⍴⎕a⍞000D┌─┬───┬─┐⍞000D│A│BCD│E│⍞000D│F│GHI│J│⍞000D├─┼───┼─┤⍞000D│K│LMN│O│⍞000D├─┼───┼─┤⍞000D│P│QRS│T│⍞000D│U│VWX│Y│⍞000D└─┴───┴─┘⍞000D⍞000D        ┌─────────────────── Same again but with no horizontal border.⍞000D        │⍞000D      (¯1 2 3)(1 4) box 5 5⍴⎕a⍞000D│A│BCD│E│⍞000D│F│GHI│J│⍞000D├─┼───┼─┤⍞000D│K│LMN│O│⍞000D├─┼───┼─┤⍞000D│P│QRS│T│⍞000D│U│VWX│Y│⍞000D⍞000D             ┌────────────── Same again but with no vertical border.⍞000D             │⍞000D      (2 3)(¯1 1 4) box 5 5⍴⎕a⍞000D─┬───┬─⍞000DA│BCD│E⍞000DF│GHI│J⍞000D─┼───┼─⍞000DK│LMN│O⍞000D─┼───┼─⍞000DP│QRS│T⍞000DU│VWX│Y⍞000D─┴───┴─⍞000D⍞000D        ┌───────┬─────────── Same again but with no vertical border.⍞000D        │       │⍞000D      (¯1 2 3)(¯1 1 4) box 5 5⍴⎕a⍞000DA│BCD│E⍞000DF│GHI│J⍞000D─┼───┼─⍞000DK│LMN│O⍞000D─┼───┼─⍞000DP│QRS│T⍞000DU│VWX│Y⍞000D⍞000DA divider index of 0 or the number of rows or columns is interpreted as specify-⍞000Ding the border and so overrides a ¯1 border supressor.⍞000D⍞000D       ┌──────────────────── Dividers after 1st and 2nd row.⍞000D       │⍞000D      (1 2)⍬ box 3 10⍴⎕a⍞000D┌──────────┐⍞000D│ABCDEFGHIJ│⍞000D├──────────┤⍞000D│KLMNOPQRST│⍞000D├──────────┤⍞000D│UVWXYZABCD│⍞000D└──────────┘⍞000D⍞000D        ┌─────────────────── Same again, with horizontal borders supressed.⍞000D        │⍞000D      (¯1 1 2)⍬ box 3 10⍴⎕a⍞000D│ABCDEFGHIJ│⍞000D├──────────┤⍞000D│KLMNOPQRST│⍞000D├──────────┤⍞000D│UVWXYZABCD│⍞000D⍞000D          ┌───────────────── Same again, with explicit upper border (divider⍞000D          │                  after 0th row).⍞000D          │⍞000D      (¯1 0 1 2)⍬ box 3 10⍴⎕a⍞000D┌──────────┐⍞000D│ABCDEFGHIJ│⍞000D├──────────┤⍞000D│KLMNOPQRST│⍞000D├──────────┤⍞000D│UVWXYZABCD│⍞000D⍞000D              ┌───────────── Same again, with explicit lower border (divider⍞000D              │              after 3rd row).⍞000D              │⍞000D      (¯1 1 2 3)⍬ box 3 10⍴⎕a⍞000D│ABCDEFGHIJ│⍞000D├──────────┤⍞000D│KLMNOPQRST│⍞000D├──────────┤⍞000D│UVWXYZABCD│⍞000D└──────────┘⍞000D⍞000DFinally,  a  third item of the left argument may be given to specify the type of⍞000Dthe border and divider lines:⍞000D⍞000D0 (default) "smooth" box drawing characters⍞000D1   ·   ·   "raw" characters, which are more suitable for printing.⍞000D⍞000DExamples:⍞000D⍞000D      a←3 10⍴⎕a                 ⍝ Simple array.⍞000D⍞000D      box a                     ⍝ simple case⍞000D┌──────────┐⍞000D│ABCDEFGHIJ│⍞000D│KLMNOPQRST│⍞000D│UVWXYZABCD│⍞000D└──────────┘⍞000D⍞000D      1 box a                   ⍝ draw a row..⍞000D┌──────────┐⍞000D│ABCDEFGHIJ│⍞000D├──────────┤⍞000D│KLMNOPQRST│⍞000D│UVWXYZABCD│⍞000D└──────────┘⍞000D⍞000D      ⍬ (⍳5) box a              ⍝ ..and columns⍞000D┌─┬─┬─┬─┬─┬─────┐⍞000D│A│B│C│D│E│FGHIJ│⍞000D│K│L│M│N│O│PQRST│⍞000D│U│V│W│X│Y│ZABCD│⍞000D└─┴─┴─┴─┴─┴─────┘⍞000D⍞000D      (1 2) (2+⍳3) box a        ⍝ both⍞000D┌───┬─┬─┬─────┐⍞000D│ABC│D│E│FGHIJ│⍞000D├───┼─┼─┼─────┤⍞000D│KLM│N│O│PQRST│⍞000D├───┼─┼─┼─────┤⍞000D│UVW│X│Y│ZABCD│⍞000D└───┴─┴─┴─────┘⍞000D⍞000D      2 ⍬ 1  box a              ⍝ raw case⍞000D+----------+⍞000D|ABCDEFGHIJ|⍞000D|KLMNOPQRST|⍞000D+----------+⍞000D|UVWXYZABCD|⍞000D+----------+⍞000D⍞000D      (¯1) (2+⍳5)    box a      ⍝ no horiz lines⍞000D│ABC│D│E│F│G│HIJ│⍞000D│KLM│N│O│P│Q│RST│⍞000D│UVW│X│Y│Z│A│BCD│⍞000D⍞000D      (¯1 1 3) (2+⍳5)    box a  ⍝ draw bottom⍞000D│ABC│D│E│F│G│HIJ│⍞000D├───┼─┼─┼─┼─┼───┤⍞000D│KLM│N│O│P│Q│RST│⍞000D│UVW│X│Y│Z│A│BCD│⍞000D└───┴─┴─┴─┴─┴───┘⍞000D⍞000D      (¯1 0 1) (¯1 9 10) box a  ⍝ variant⍞000D─────────┬─┐⍞000DABCDEFGHI│J│⍞000D─────────┼─┤⍞000DKLMNOPQRS│T│⍞000DUVWXYZABC│D│⍞000D⍞000D      (¯1 1 2) (¯1 1 2)  box ↑''OOX'' ''OXO'' ''XX ''     ⍝ I won!⍞000DO│O│X⍞000D─┼─┼─⍞000DO│X│O⍞000D─┼─┼─⍞000DX│X│⍞000D⍞000DSee also: disp display draw⍞000D⍞000DIndex:border|box|box-drawing characters|display (of arrays)|boxing⍞000DIndex;Jantunen V-M.' 
