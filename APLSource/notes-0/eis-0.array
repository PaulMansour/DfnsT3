'nested ← {left} ##.eis right                ⍝ enclose-if-simple / link⍞000D⍞000DSuggested by Adám Brudzewsky, a model for enclose-if-simple and link, approximat-⍞000Dely as per '';'' in SHARP APL and J.⍞000D⍞000DMonadic case: enclose if simple⍞000D-------------------------------⍞000DIt is often convenient to allow a function to take either one or many items as⍞000Dargument. Perhaps we have an editing function:⍞000D⍞000D    edit ''this''             ⍝ edit of single item⍞000D    edit ''this'' ''that''      ⍝ edit of two items⍞000D⍞000DSuch functions often choose to enclose a simple (one item) argument and then pro-⍞000Dceed as in the multiple-argument case:⍞000D⍞000D    1=≡⍵:∇⊂⍵                ⍝ single item: enclose and try again⍞000D    ed¨⍵                    ⍝ edit each name⍞000Dor⍞000D    ed¨{1=≡⍵:⊂⍵ ⋄ ⍵}⍵       ⍝ edit each name⍞000Dor⍞000D    ed¨⊂⍣(1=≡⍵)⊢⍵           ⍝ edit each name⍞000D⍞000DMonadic [eis] encapsulates this idea as:⍞000D⍞000D    ed¨eis ⍵                ⍝ edit one or more names⍞000D⍞000DDyadic case: link⍞000D-----------------⍞000DThe dyadic case provides an (approximate) explicit equivalent of the implicit⍞000D"vector" (stranding) notation:⍞000D⍞000D    A eis B eis C ... ←~→ A B C ...⍞000D⍞000DSimple Scalars⍞000D--------------⍞000DIn Dyalog, the enclose of a simple scalar is itself. What should [eis] do with a⍞000Dsimple scalar? There are two main contenders:⍞000D⍞000D    eis0 0 ←→ 0             ⍝ no enclosure⍞000D    eis1 0 ←→ ⊂,0           ⍝ enclose of _ravel_ of⍞000D⍞000D[eis0] is fine for the sort of example above (ed¨eis ⍵) but (dyadic) link fares⍞000Dless well in more abstract cases, such as reduction:⍞000D⍞000D        display ⊃eis1/⍳6            ⍝ eis1: simple scalar ravel-enclosed⍞000D    ┌→────────────────────────┐⍞000D    │ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ │⍞000D    │ │1│ │2│ │3│ │4│ │5│ │6│ │⍞000D    │ └~┘ └~┘ └~┘ └~┘ └~┘ └~┘ │⍞000D    └∊────────────────────────┘⍞000D        display ⊃eis0/⍳6            ⍝ eis0: simple scalar not ravel-enclosed⍞000D    ┌→──────────────┐⍞000D    │         ┌→──┐ │⍞000D    │ 1 2 3 4 │5 6│ │⍞000D    │         └~──┘ │⍞000D    └∊──────────────┘⍞000D⍞000DFor this reason the behaviour of eis1, which ravels a simple scalar argument, is⍞000Dchosen for this model.⍞000D⍞000DExamples:⍞000D⍞000D    ⍝ Monadic case: enclose if simple ⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    display eis ''hello''             ⍝ simple array enclosed⍞000D┌─────────┐⍞000D│ ┌→────┐ │⍞000D│ │hello│ │⍞000D│ └─────┘ │⍞000D└∊────────┘⍞000D    display eis ''hello'' ''world''     ⍝ nested array: no-op⍞000D┌→────────────────┐⍞000D│ ┌→────┐ ┌→────┐ │⍞000D│ │hello│ │world│ │⍞000D│ └─────┘ └─────┘ │⍞000D└∊────────────────┘⍞000D    display eis ''h''                 ⍝ simple scalar: ravel-enclosed⍞000D┌─────┐⍞000D│ ┌→┐ │⍞000D│ │h│ │⍞000D│ └─┘ │⍞000D└∊────┘⍞000D    display eis ↑''hello'' ''world''    ⍝ simple matrix: enclosed⍞000D┌─────────┐⍞000D│ ┌→────┐ │⍞000D│ ↓hello│ │⍞000D│ │world│ │⍞000D│ └─────┘ │⍞000D└∊────────┘⍞000D⍞000D    ⍝ Dyadic case: link ⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    display ''this'' eis ''and'' eis ''that''             ⍝ simple vectors sequence⍞000D┌→────────────────────┐⍞000D│ ┌→───┐ ┌→──┐ ┌→───┐ │⍞000D│ │this│ │and│ │that│ │⍞000D│ └────┘ └───┘ └────┘ │⍞000D└∊────────────────────┘⍞000D    display ''aa'' ''bb'' eis ''cc'' ''dd'' eis ''ee'' ''ff''   ⍝ nested vectors sequence⍞000D┌→──────────────────────────────┐⍞000D│ ┌→─┐ ┌→─┐ ┌→─┐ ┌→─┐ ┌→─┐ ┌→─┐ │⍞000D│ │aa│ │bb│ │cc│ │dd│ │ee│ │ff│ │⍞000D│ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘ │⍞000D└∊──────────────────────────────┘⍞000D    display ⊃ eis/ 1 2 3 4                          ⍝ link-reduction⍞000D┌→────────────────┐⍞000D│ ┌→┐ ┌→┐ ┌→┐ ┌→┐ │⍞000D│ │1│ │2│ │3│ │4│ │⍞000D│ └~┘ └~┘ └~┘ └~┘ │⍞000D└∊────────────────┘⍞000D    display ⊃ ,/ 1 2 3 4                            ⍝ cf join-reduction⍞000D┌→──────┐⍞000D│1 2 3 4│⍞000D└~──────┘⍞000D    display ⊃ {⍺ ⍵}/ 1 2 3 4                        ⍝ cf pair-reduction⍞000D┌→──────────────┐⍞000D│   ┌→────────┐ │⍞000D│ 1 │   ┌→──┐ │ │⍞000D│   │ 2 │3 4│ │ │⍞000D│   │   └~──┘ │ │⍞000D│   └∊────────┘ │⍞000D└∊──────────────┘⍞000D⍞000DIndex:link|enclose-if-simple⍞000DIndex;Brudzewsky A.' 
