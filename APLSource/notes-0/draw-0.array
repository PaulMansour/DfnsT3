'cmat ← {marker←''*''} ##.draw cmat            ⍝ Draw over ''*''s.⍞000D⍞000DSupplied by Veli-Matti Jantunen, draw replaces adjacent markers in the character⍞000Dmatrix argument with appropriate box-drawing characters.  Optional left argument⍞000D(''*''  by  default) specifies the marker; all other characters are passed through⍞000Dto the result character matrix.⍞000D⍞000DExamples:⍞000D⍞000D      ⍝ Show arg and result, starting with blank canvas.⍞000D⍞000D      canvas←4 4⍴'' '' ⋄ display¨ canvas (draw canvas)⍞000D ┌→───┐  ┌→───┐⍞000D ↓    │  ↓    │⍞000D │    │  │    │⍞000D │    │  │    │⍞000D │    │  │    │⍞000D └────┘  └────┘⍞000D⍞000D      canvas[4;2 3]←''*'' ⋄ display¨ canvas (draw canvas)⍞000D ┌→───┐  ┌→───┐⍞000D ↓    │  ↓    │⍞000D │    │  │    │⍞000D │    │  │    │⍞000D │ ** │  │ ── │⍞000D └────┘  └────┘⍞000D⍞000D      canvas[2 3;4]←''*'' ⋄ display¨ canvas (draw canvas)⍞000D ┌→───┐  ┌→───┐⍞000D ↓    │  ↓    │⍞000D │   *│  │   ││⍞000D │   *│  │   ││⍞000D │ ** │  │ ── │⍞000D └────┘  └────┘⍞000D⍞000D      canvas[4;4]←''*'' ⋄ display¨ canvas (draw canvas)⍞000D ┌→───┐  ┌→───┐⍞000D ↓    │  ↓    │⍞000D │   *│  │   ││⍞000D │   *│  │   ││⍞000D │ ***│  │ ──┘│⍞000D └────┘  └────┘⍞000D⍞000D      canvas[2;⍳4]←''*'' ⋄ display¨ canvas (draw canvas)⍞000D ┌→───┐  ┌→───┐⍞000D ↓    │  ↓    │⍞000D │****│  │───┐│⍞000D │   *│  │   ││⍞000D │ ***│  │ ──┘│⍞000D └────┘  └────┘⍞000D⍞000D      canvas[⍳4;2]←''*'' ⋄ display¨ canvas (draw canvas)⍞000D ┌→───┐  ┌→───┐⍞000D ↓ *  │  ↓ │  │⍞000D │****│  │─┼─┐│⍞000D │ * *│  │ │ ││⍞000D │ ***│  │ └─┘│⍞000D └────┘  └────┘⍞000D⍞000D      canvas[1;1]←''*'' ⋄ display¨ canvas (draw canvas)⍞000D ┌→───┐  ┌→───┐⍞000D ↓**  │  ↓┌┐  │⍞000D │****│  │└┼─┐│⍞000D │ * *│  │ │ ││⍞000D │ ***│  │ └─┘│⍞000D └────┘  └────┘⍞000D⍞000D      ''?''draw '' ?''[?10 50⍴2]                ⍝ random scribbles with ? marker.⍞000D ? ?  ┌┬─ ┌┐  ──    ──┬┬─ ? ┌┬─  │ ┌┬┐  ──┬┐ ─┐  │⍞000D      └┤ ┌┼┤ │   │ ?  └┘ │ ─┴┤  ┌┴─┴┴┼┐   └┼─ │  │⍞000D    ┌─ │ └┴┴─┴┐  │      ─┘   └─ │    └┼─┬┐ │  │⍞000D│   │ ┌┴─     │  │  │      ?   ┌┴─ ── │ └┴┬┘ ┌┘ ┌─⍞000D└┬┬─ ┌┤  ┌┐ ─┬┼──┘ ┌┤  │ ┌┐ ───┘  │   └┐  │  │ ┌┤⍞000D ├┤  └┘ ─┼┤  └┤    ├┤  │ └┤     ? │  ? │ │    ┌┴┴┐⍞000D┌┴┤ ?  │ ├┴─┐ │   ┌┼┴┐  │ └┐           ├┬┴─┬┐ │  │⍞000D│ ├┐ │ ├─┘  ├─┘ ? └┘ │  └─ ├┬┬─ │     ─┼┤  └┘ │⍞000D└┬┼┘ │ │   ─┤    ?    ?   ┌┴┼┘  └─ │   └┼┬┐  ?  ┌┐⍞000D └┘ ─┘   ── └─  ?   ?  ?  │ │ ?   ─┘  ? └┴┴─   ─┴┘⍞000D⍞000DSee also ##.scripts.pentominos⍞000D⍞000DSee also: box⍞000D⍞000DIndex:box|box-drawing characters|diversions⍞000DIndex;Jantunen V-M.' 
