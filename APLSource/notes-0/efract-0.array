'nvec ← P ##.efract Q                        ⍝ Egyptian fractions.⍞000D⍞000DAny  rational number in the range 0<⍵≤1 may be expressed as the sum of the reci-⍞000Dprocal of a finite vector of distinct whole numbers. Such sequences of reciproc-⍞000Dals are called "Egyptian fractions".⍞000D⍞000DFor example:⍞000D⍞000D     2       1       1⍞000D    ---  =  ---  +  ---    =    +/ ÷2 6⍞000D     3       2       6⍞000D⍞000D     9       1       1       1⍞000D    ---  =  ---  +  ---  +  ---    =    +/ ÷2 3 15⍞000D    10       2       3      15⍞000D⍞000D⍞000D    355      1       1        1         1              1⍞000D    ---  =  ---  +  ---  +  ----  +  -------  +  -------------   =   +/ ÷2 29 ..⍞000D    452      2      29      1093     1790881     6414507721441⍞000D⍞000DNB: a given rational number has any number of Egyptian fraction expansions.⍞000D⍞000DRef: http://en.wikipedia.org/wiki/Egyptian_fraction⍞000D⍞000DVeli-Matti Jantunen''s function [efract] returns an integer vector such that:⍞000D⍞000D    (⍺÷⍵) = +/÷ ⍺ efract ⍵          ⍝ quotient = sum of reciprocals.⍞000D    {⍵≡∪⍵}  ⍺ efract ⍵              ⍝ reciprocals are unique.⍞000D⍞000DFor example:⍞000D⍞000D        9 efract 10                 ⍝ Egyptian fractions for 9÷10⍞000D    2 3 15⍞000D⍞000D        rational +/÷ 2 3 15         ⍝ check result.⍞000D    9 10⍞000D⍞000DTechnical notes:⍞000D⍞000DThere are many ways to find Egyptian fractions; Veli-Matti suggests:⍞000D⍞000D    efract←{⎕ML←3⍞000D        (,⍵){⍞000D            0∊⍴⍵:⍺[⍋⍺]⍞000D            x←{⍵ 1×⍵+1}↑⍵⍞000D            n←2×¯1++/⍵=↑⍵⍞000D            (⍺,x)∇(n⍴x),⍵~↑⍵⍞000D        }(⍺-1)/⍵⍞000D    }⍞000D⍞000D⍞000D    efract←{⎕ML←3           ⍝ Egyptian fractions: Splitting method⍞000D⍞000D        (,⍵){⍞000D            0∊⍴⍵:⍺[⍋⍺]⍞000D            q←↑⍵ ⋄ x←q 1×q+1 ⋄ b←(x∊⍺)<≠\x⍞000D            (⍺,b/x)∇((~b)/x),((2×¯1++/⍵=q)⍴x),⍵~q⍞000D        }(⍺-1)/⍵⍞000D    }⍞000D⍞000D⍞000D    efract←{                ⍝ Egyptian fractions: Golomb algorithm⍞000D        (⎕ML ⎕IO)←3 1⍞000D⍞000D        ⍬{⍞000D            (p q)←⍵÷(↑⍵){⍵=0:|⍺ ⋄ ⍵ ∇ ⍵|⍺}↑⌽⍵⍞000D            p=1:{⍵[⍋⍵]}⍺,q⍞000D⍞000D            r←(0=p|1+q×⍳q-1)⍳1⍞000D            s←(1+q×r)÷p⍞000D            (⍺,s×q)∇ r s⍞000D        }⍺ ⍵⍞000D    }⍞000D⍞000D⍞000D    efract←{                ⍝ Egyptian fractions: Binary method⍞000D        (⎕ML ⎕IO)←3 1⍞000D⍞000D        ∆G←{⍵=0:|⍺ ⋄ ⍵ ∇ ⍵|⍺}⍞000D        (p q)←⍺ ⍵÷⍺ ∆G ⍵ ⋄ p=1:q⍞000D⍞000D        n←⌈2⍟q ⋄ b←2*n⍞000D        r←⌊(p×b)÷q ⋄ s←(p×b)-r×q⍞000D⍞000D        (a c)←{2*((n⍴2)⊤⍵)/⌽¯1+⍳n}¨r s⍞000D        (a,c){⍵÷⍺ ∆G¨⍵}((⍴a),⍴c)/b×1 q⍞000D    }⍞000D⍞000D⍞000DExamples:⍞000D⍞000D    3 efract 7                          ⍝ Egyptian fraction rep of 3÷7⍞000D3 11 231⍞000D⍞000D    rational +/÷ 3 efract 7             ⍝ round-trip to check.⍞000D3 7⍞000D⍞000D    rational +/÷ ⎕← 355 efract 452      ⍝ (coarse approximation to ○÷4).⍞000D2 4 29 1093 1790881 6.414507721E12⍞000D355 452⍞000D⍞000D    2 3 5 7 ∘.efract 11 13 17 19        ⍝ ... some more.⍞000D┌──────┬─────────┬─────────┬─────────┐⍞000D│6 66  │7 91     │9 153    │10 190   │⍞000D├──────┼─────────┼─────────┼─────────┤⍞000D│4 44  │5 33 2145│6 102    │7 67 8911│⍞000D├──────┼─────────┼─────────┼─────────┤⍞000D│3 9 99│3 20 780 │4 23 1564│4 76     │⍞000D├──────┼─────────┼─────────┼─────────┤⍞000D│2 8 88│2 26     │3 13 663 │3 29 1653│⍞000D└──────┴─────────┴─────────┴─────────┘⍞000D⍞000DSee also: rational⍞000D⍞000DIndex:Egyptian fraction⍞000DIndex;Jantunen V-M.' 
