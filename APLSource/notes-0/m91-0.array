'm ← ##.m91 n                                ⍝ McCarthy''s M91 function.⍞000D⍞000DThe McCarthy 91 function  is a recursive function, defined by John McCarthy as a⍞000Dtest case for formal verification within computer science.⍞000D⍞000Dhttp://en.wikipedia.org/wiki/McCarthy_91_function⍞000D⍞000DThe recursive definition:⍞000D⍞000D    M n → n-10,       if n>100⍞000D    M n → M(M(n+11)), otherwise⍞000D⍞000Dis nicely expressed as a dfn:⍞000D⍞000D    m91←{               ⍝ non-tracing version⍞000D        ⍵>100: ⍵-10     ⍝ high number: M(n) → n-10⍞000D        ∇ ∇ ⍵+11        ⍝ low number:  M(n) → M(M(n+11))⍞000D    }⍞000D⍞000DWe  can  watch  the progress of the sequence by displaying the value of ⍵ at the⍞000Dstart  of  each  function  invocation and passing as left argument, which of the⍞000Drecursive calls was used:⍞000D⍞000D    m91←{                       ⍝ McCarthy''s M91 function.⍞000D        ⍺←0 ⋄ ⍞235E←∊⍕¨⍺''→''⍵'' ''     ⍝ trace:⍞000D        ⍵>100:⍵-10              ⍝ high number: M(n) → n-10⍞000D        1 ∇ 2 ∇ ⍵+11            ⍝ low number:  M(n) → M(M(n+11))⍞000D    }⍞000D⍞000DThen:⍞000D⍞000D    m91 2⍞000D0→2 2→13 2→24 2→35 2→46 2→57 2→68 2→79 2→90 2→101 1→91 2→102 1→92 2→103 1→93 2→1⍞000D04 1→94 2→105 1→95 2→106 1→96 2→107 1→97 2→108 1→98 2→109 1→99 2→110 1→100 2→111⍞000D 1→101 1→91 2→102 1→92 2→103 1→93 2→104 1→94 2→105 1→95 2→106 1→96 2→107 1→97 2→⍞000D108 1→98 2→109 1→99 2→110 1→100 2→111 1→101 1→91 2→102 1→92 2→103 1→93 2→104 1→9⍞000D4 2→105 1→95 2→106 1→96 2→107 1→97 2→108 1→98 2→109 1→99 2→110 1→100 2→111 1→101⍞000D 1→91 2→102 1→92 2→103 1→93 2→104 1→94 2→105 1→95 2→106 1→96 2→107 1→97 2→108 1→⍞000D98 2→109 1→99 2→110 1→100 2→111 1→101 1→91 2→102 1→92 2→103 1→93 2→104 1→94 2→10⍞000D5 1→95 2→106 1→96 2→107 1→97 2→108 1→98 2→109 1→99 2→110 1→100 2→111 1→101 1→91⍞000D2→102 1→92 2→103 1→93 2→104 1→94 2→105 1→95 2→106 1→96 2→107 1→97 2→108 1→98 2→1⍞000D09 1→99 2→110 1→100 2→111 1→101 1→91 2→102 1→92 2→103 1→93 2→104 1→94 2→105 1→95⍞000D 2→106 1→96 2→107 1→97 2→108 1→98 2→109 1→99 2→110 1→100 2→111 1→101 1→91 2→102⍞000D1→92 2→103 1→93 2→104 1→94 2→105 1→95 2→106 1→96 2→107 1→97 2→108 1→98 2→109 1→9⍞000D9 2→110 1→100 2→111 1→101 1→91 2→102 1→92 2→103 1→93 2→104 1→94 2→105 1→95 2→106⍞000D 1→96 2→107 1→97 2→108 1→98 2→109 1→99 2→110 1→100 2→111 1→101⍞000D91⍞000D⍞000DWe could generalise the function by parameterising the constants that define the⍞000Dbreakpoint and increments:⍞000D⍞000D    mGen←{              ⍝ McCarthy''s M91 function (generalised)⍞000D        ⍺←11 100 ¯10    ⍝ default increments and breakpoint⍞000D        lo brk hi←⍺     ⍝ increment for hi and low numbers and breakpoint⍞000D        {               ⍝⍞000D            ⍵>brk:⍵+hi  ⍝ high number: M(n) → n-hi⍞000D            ∇ ∇ ⍵+lo    ⍝ low number:  M(n) → M(M(n+lo))⍞000D        }⍵⍞000D    }⍞000D⍞000DThen:⍞000D⍞000D    5 10 ¯4∘mGen¨ 5 to 15⍞000D7 7 7 7 7 7 7 8 9 10 11⍞000D⍞000D    5 10 ¯3∘mGen¨ 5 to 15⍞000D8 9 8 9 8 9 8 9 10 11 12⍞000D⍞000DExamples:⍞000D⍞000D    m91¨ 90 to 100                  ⍝ ⍵<100 → 91⍞000D91 91 91 91 91 91 91 91 91 91 91⍞000D⍞000D    m91¨ 101 to 110                 ⍝ ⍵≥100 → ⍵-10⍞000D91 92 93 94 95 96 97 98 99 100⍞000D⍞000DSee also: osc k6174⍞000DIndex:91⍞000DIndex;McCarthy J.' 
