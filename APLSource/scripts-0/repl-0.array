'⍝ Input-eval-display loop.⍞000D⍞000D⍝ repl uses quote-quad input and quad output. For testing, we modify a copy⍞000D⍝ of the function to input from variable ∆i and output to variable ∆o.⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D    ∆in←{                               ⍝ input from buffer         ⍝⍞000D        buf←⍵,⊃∆i                                                   ⍝⍞000D        ∆o,←⊂buf                                                    ⍝⍞000D        ∆i↓⍨←1                                                      ⍝⍞000D        buf                                                         ⍝⍞000D    }                                                               ⍝⍞000D                                                                    ⍝⍞000D    qp←''⍞235E⊣⍞235E←'' '' ∆in ''∘subs              ⍝ subs quote-quad prompt    ⍝⍞000D    qt←''⎕←'' ''∆o,←↓⎕fmt ''∘subs           ⍝ subs quad output          ⍝⍞000D    qz←'': '' '':↑∆o''∘subs                 ⍝ repl returns output buf   ⍝⍞000D                                                                    ⍝⍞000D    _←⎕fx qz qt qp ⎕cr''repl''            ⍝ modify repl operator.     ⍝⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    ∆i ∆o←⍬ ⍬                   ⍝ input/output buffers.⍞000D⍞000D    ∆i,←⊂''''⍞000D    ∆i,←⊂''hello''⍞000D    ∆i,←⊂''''⍞000D    ∆i,←⊂''world''⍞000D    ∆i,←⊂''''⍞000D    ∆i,←⊂'')''        ⍝ exit repl.⍞000D⍞000D    ⌽repl'')''        ⍝ repl⍞000D         ⍞000D    hello⍞000Dolleh    ⍞000D         ⍞000D    world⍞000Ddlrow    ⍞000D         ⍞000D    )    ' 
