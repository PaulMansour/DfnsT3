'⍝ The N-queens Chess problem:⍞000D⍞000D    disp 3 4⍴queens 8⍞000D┌───────────────┬───────────────┬───────────────┬───────────────┐⍞000D│⍟ · · · · · · ·│⍟ · · · · · · ·│· ⍟ · · · · · ·│· ⍟ · · · · · ·│⍞000D│· · · · ⍟ · · ·│· · · · · ⍟ · ·│· · · ⍟ · · · ·│· · · · ⍟ · · ·│⍞000D│· · · · · · · ⍟│· · · · · · · ⍟│· · · · · ⍟ · ·│· · · · · · ⍟ ·│⍞000D│· · · · · ⍟ · ·│· · ⍟ · · · · ·│· · · · · · · ⍟│⍟ · · · · · · ·│⍞000D│· · ⍟ · · · · ·│· · · · · · ⍟ ·│· · ⍟ · · · · ·│· · ⍟ · · · · ·│⍞000D│· · · · · · ⍟ ·│· · · ⍟ · · · ·│⍟ · · · · · · ·│· · · · · · · ⍟│⍞000D│· ⍟ · · · · · ·│· ⍟ · · · · · ·│· · · · · · ⍟ ·│· · · · · ⍟ · ·│⍞000D│· · · ⍟ · · · ·│· · · · ⍟ · · ·│· · · · ⍟ · · ·│· · · ⍟ · · · ·│⍞000D├───────────────┼───────────────┼───────────────┼───────────────┤⍞000D│· ⍟ · · · · · ·│· ⍟ · · · · · ·│· ⍟ · · · · · ·│· ⍟ · · · · · ·│⍞000D│· · · · ⍟ · · ·│· · · · · ⍟ · ·│· · · · · ⍟ · ·│· · · · · · ⍟ ·│⍞000D│· · · · · · ⍟ ·│⍟ · · · · · · ·│· · · · · · · ⍟│· · ⍟ · · · · ·│⍞000D│· · · ⍟ · · · ·│· · · · · · ⍟ ·│· · ⍟ · · · · ·│· · · · · ⍟ · ·│⍞000D│⍟ · · · · · · ·│· · · ⍟ · · · ·│⍟ · · · · · · ·│· · · · · · · ⍟│⍞000D│· · · · · · · ⍟│· · · · · · · ⍟│· · · ⍟ · · · ·│· · · · ⍟ · · ·│⍞000D│· · · · · ⍟ · ·│· · ⍟ · · · · ·│· · · · · · ⍟ ·│⍟ · · · · · · ·│⍞000D│· · ⍟ · · · · ·│· · · · ⍟ · · ·│· · · · ⍟ · · ·│· · · ⍟ · · · ·│⍞000D├───────────────┼───────────────┼───────────────┼───────────────┤⍞000D│· ⍟ · · · · · ·│· · ⍟ · · · · ·│· · ⍟ · · · · ·│· · ⍟ · · · · ·│⍞000D│· · · · · · ⍟ ·│· · · · ⍟ · · ·│· · · · ⍟ · · ·│· · · · · ⍟ · ·│⍞000D│· · · · ⍟ · · ·│· ⍟ · · · · · ·│· · · · · · · ⍟│· ⍟ · · · · · ·│⍞000D│· · · · · · · ⍟│· · · · · · · ⍟│· · · ⍟ · · · ·│· · · · ⍟ · · ·│⍞000D│⍟ · · · · · · ·│⍟ · · · · · · ·│⍟ · · · · · · ·│· · · · · · · ⍟│⍞000D│· · · ⍟ · · · ·│· · · · · · ⍟ ·│· · · · · · ⍟ ·│⍟ · · · · · · ·│⍞000D│· · · · · ⍟ · ·│· · · ⍟ · · · ·│· ⍟ · · · · · ·│· · · · · · ⍟ ·│⍞000D│· · ⍟ · · · · ·│· · · · · ⍟ · ·│· · · · · ⍟ · ·│· · · ⍟ · · · ·│⍞000D└───────────────┴───────────────┴───────────────┴───────────────┘⍞000D⍞000D    1 disp queens¨0 1 2 3 4⍞000D┌→──┬───┬─────┬───────┬─────────┐⍞000D│┌⊖┐│┌→┐│┌⊖──┐│┌⊖────┐│┌→──────┐│⍞000D││ ⌽││⍟↓││   ⌽││     ⌽││· ⍟ · ·││⍞000D│└⊖┘│└→┘│└──→┘│└────→┘││· · · ⍟││⍞000D│   │   │     │       ││⍟ · · ·││⍞000D│   │   │     │       ││· · ⍟ ·↓│⍞000D│   │   │     │       │└──────→┘│⍞000D└──⊖┴──→┴────⊖┴──────⊖┴────────→┘⍞000D⍞000D⍝ Alternative codings:⍞000D⍞000D    ⍝ One-liner for 5-queens:⍞000D⍞000D    ⎕io←0⍞000D⍞000D    disp {⍵{↑¨↓↓(2|1↓⍳2×⍺)\((↑⍵)∘.=⍳⍺)⊃¨⊂''·⍟''}∪{{(⊃⍋↑⍵)⊃⍵},↑⍵}¨{{⍋⍵}\2/⊂⍵}¨∘{{⍒⍵}\4/⊂⍵}¨⍵{(⍺=,↑⍴¨⍵)/⍵},¨↑⍬{↑(⍺⍺,⍺)∇∇(1↓⍵⍵~¨⍺+(1+⍳⍴⍵⍵)×⊂¯1 0 1)/((⊃⍵⍵)~⍺+¯1 0 1),⊂⍵,⊂⍺⍺,⍺}(1↓⍵⍴⊂⌽⍳⍵)/(⌽⍳⌈⍵÷2),⊂0⍴⊂⍬}5⍞000D┌─────────┬─────────┐⍞000D│⍟ · · · ·│· ⍟ · · ·│⍞000D│· · ⍟ · ·│· · · · ⍟│⍞000D│· · · · ⍟│· · ⍟ · ·│⍞000D│· ⍟ · · ·│⍟ · · · ·│⍞000D│· · · ⍟ ·│· · · ⍟ ·│⍞000D└─────────┴─────────┘⍞000D⍞000D    ⍝ Roger Hui''s one-liner for 5-queens:⍞000D⍞000D    ⎕io←0⍞000D⍞000D    {⍵{((+/b)⌿⍵),⍺|(,b)/⍳×/⍴b←~↑(⊂⍳⍺)∊¨(↓⍵)+[0]¨⊂(c-⍳c←1↓⍴⍵)∘.×¯1 0 1}⍣⍵⍳1 0}5⍞000D0 2 4 1 3⍞000D0 3 1 4 2⍞000D1 3 0 2 4⍞000D1 4 2 0 3⍞000D2 0 3 1 4⍞000D2 4 1 3 0⍞000D3 0 2 4 1⍞000D3 1 4 2 0⍞000D4 1 3 0 2⍞000D4 2 0 3 1⍞000D⍞000D    ⍝ Alternative coding, which uses the →trav← DFS operator:⍞000D⍞000D    qtrav←{                             ⍝ N-queens using →trav← operator.⍞000D        subs←{(⊂⍵),¨(⍳⍴⊃⍺)~atk ⍵}       ⍝ sub-trees of tree-node ⍵.⍞000D        accm←{⍺,((⍴⍵)=⍴⊃⍺)/⊂⍵}          ⍝ accumlation of N-placement.⍞000D        atk←{↑(⊂⍵)+¯1 0 1×⊂⌽⍳⍴⍵}        ⍝ columns under attack in row 1+⍵.⍞000D        fmt←{⍵∘.=⍳⍴⍵}                   ⍝ formatted as bool matrix.⍞000D        fmt¨(↓0 ⍵⍴0)accm trav subs ⍬    ⍝ formatted solutions.⍞000D    }⍞000D⍞000D    ⎕io←1⍞000D⍞000D    disp 2 5⍴ qtrav 5⍞000D┌─────────┬─────────┬─────────┬─────────┬─────────┐⍞000D│1 0 0 0 0│1 0 0 0 0│0 1 0 0 0│0 1 0 0 0│0 0 1 0 0│⍞000D│0 0 1 0 0│0 0 0 1 0│0 0 0 1 0│0 0 0 0 1│1 0 0 0 0│⍞000D│0 0 0 0 1│0 1 0 0 0│1 0 0 0 0│0 0 1 0 0│0 0 0 1 0│⍞000D│0 1 0 0 0│0 0 0 0 1│0 0 1 0 0│1 0 0 0 0│0 1 0 0 0│⍞000D│0 0 0 1 0│0 0 1 0 0│0 0 0 0 1│0 0 0 1 0│0 0 0 0 1│⍞000D├─────────┼─────────┼─────────┼─────────┼─────────┤⍞000D│0 0 1 0 0│0 0 0 1 0│0 0 0 1 0│0 0 0 0 1│0 0 0 0 1│⍞000D│0 0 0 0 1│1 0 0 0 0│0 1 0 0 0│0 1 0 0 0│0 0 1 0 0│⍞000D│0 1 0 0 0│0 0 1 0 0│0 0 0 0 1│0 0 0 1 0│1 0 0 0 0│⍞000D│0 0 0 1 0│0 0 0 0 1│0 0 1 0 0│1 0 0 0 0│0 0 0 1 0│⍞000D│1 0 0 0 0│0 1 0 0 0│1 0 0 0 0│0 0 1 0 0│0 1 0 0 0│⍞000D└─────────┴─────────┴─────────┴─────────┴─────────┘' 
