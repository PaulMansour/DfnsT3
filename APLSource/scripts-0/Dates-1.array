'⍝ Date Conversion and Formatting:⍞000D⍞000D    ⍝ Jean Meeus'' test cases for Julian Day, using Continental⍞000D    ⍝ European date (1582-10-04) for Gregorian calendar reform:⍞000D⍞000D    JD←2415019.5∘+∘(15821004∘days)      ⍝ Julian day (JD).⍞000D⍞000D    dates←0 6⍴0                         ⍝ initial date matrix.⍞000D    ∆←{{1:}dates⍪←6↑⍵}                  ⍝ accumulate date row.⍞000D⍞000D    ∆  2000 01 01, 12 00 00⍞000D    ∆  1999 01 01⍞000D    ∆  1987 01 27⍞000D    ∆  1987 06 19, 12 00 00⍞000D    ∆  1988 01 27⍞000D    ∆  1988 06 19, 12 00 00⍞000D    ∆  1900 01 01⍞000D    ∆  1600 01 01⍞000D    ∆  1600 12 31⍞000D    ∆   837 04 10, 07 12 00⍞000D    ∆  ¯123 12 31⍞000D    ∆  ¯122 01 01⍞000D    ∆ ¯1000 07 12, 12 00 00⍞000D    ∆ ¯1000 02 29⍞000D    ∆ ¯1001 08 17, 21 36 00⍞000D    ∆ ¯4712 01 01, 12 00 00⍞000D    ∆  1957 10 04, 19 26⍞000D    ∆   333 01 27, 12 00⍞000D⍞000D    (dates,''→''),JD dates⍞000D 2000  1  1 12  0 0 → 2451545   ⍞000D 1999  1  1  0  0 0 → 2451179.5 ⍞000D 1987  1 27  0  0 0 → 2446822.5 ⍞000D 1987  6 19 12  0 0 → 2446966   ⍞000D 1988  1 27  0  0 0 → 2447187.5 ⍞000D 1988  6 19 12  0 0 → 2447332   ⍞000D 1900  1  1  0  0 0 → 2415020.5 ⍞000D 1600  1  1  0  0 0 → 2305447.5 ⍞000D 1600 12 31  0  0 0 → 2305812.5 ⍞000D  837  4 10  7 12 0 → 2026871.8 ⍞000D ¯123 12 31  0  0 0 → 1676496.5 ⍞000D ¯122  1  1  0  0 0 → 1676497.5 ⍞000D¯1000  7 12 12  0 0 → 1356001   ⍞000D¯1000  2 29  0  0 0 → 1355866.5 ⍞000D¯1001  8 17 21 36 0 → 1355671.4 ⍞000D¯4712  1  1 12  0 0 →       0   ⍞000D 1957 10  4 19 26 0 → 2436116.31⍞000D  333  1 27 12  0 0 → 1842713   ⍞000D⍞000D    --/JD ↑(1582 10 04)(1582 10 15)     ⍝ Oct 4 and 15, 1582 adjacent.⍞000D1⍞000D    ⍝ Using British date (1752-09-02) for Gregorian calendar reform:⍞000D⍞000D    JD←2415019.5∘+∘(17520902∘days)⍞000D⍞000D    JD ↑(1752 09 02)(1752 09 14)        ⍝ Sep 2 and 14, 1752 adjacent. ⍞000D2361220.5 2361221.5⍞000D⍞000D⍝ Try different epochs:⍞000D⍞000D    days_julian←2415019.5∘+∘(15821004∘days)     ⍝ "Julian Days".⍞000D    date_julian←¯115860∘date∘(-∘2415019.5)⍞000D⍞000D    days_mjd←15019∘+∘(15821004∘days)            ⍝ "Modified Julian Days".⍞000D    date_mjd←¯115860∘date∘(-∘15019)⍞000D⍞000D    unix_time←86400∘×∘(-∘25568)∘days    ⍝ Seconds since 1970-01-01 00:00:00.⍞000D    unix_date←date∘(+∘25568)∘(÷∘86400)⍞000D⍞000D    long_count←mayan∘(1830735∘+∘days)   ⍝ Mayan Long Count (584,285 corr.).⍞000D⍞000D    days_julian 2005 04 07⍞000D2453467.5⍞000D⍞000D    date_julian 2453467.5⍞000D2005 4 7 0 0 0 0⍞000D⍞000D    days_mjd 2005 04 07⍞000D53467⍞000D⍞000D    date_mjd 53467⍞000D2005 4 7 0 0 0 0⍞000D⍞000D    unix_time 2005 04 07⍞000D1112832000⍞000D⍞000D    unix_date 1112832000⍞000D2005 4 7 0 0 0 0⍞000D⍞000D    long_count 2005 4 7⍞000D       ⍞000D  ⍟ ⍟  ⍞000D ⌹⌹⌹⌹⌹ ⍞000D ⌹⌹⌹⌹⌹ ⍞000D       ⍞000D ⍟⍟⍟⍟  ⍞000D ⌹⌹⌹⌹⌹ ⍞000D ⌹⌹⌹⌹⌹ ⍞000D ⌹⌹⌹⌹⌹ ⍞000D       ⍞000D  ⍟ ⍟  ⍞000D ⌹⌹⌹⌹⌹ ⍞000D ⌹⌹⌹⌹⌹ ⍞000D       ⍞000D  ⍟⍟⍟  ⍞000D       ⍞000D  ⍟⍟⍟  ⍞000D⍞000D    tx_days←15821004∘days       ⍝ Texas conversions.⍞000D    tx_date←¯115860∘date⍞000D⍞000D    va_days←17520902∘days       ⍝ Virginia conversions.⍞000D    va_date←¯53799∘date⍞000D⍞000D    3↑tx_date va_days 1614 4 5  ⍝ Apr 1614: 5 (VA) -> 15 (TX)⍞000D1614 4 15⍞000D⍞000D⍝ Stephen Taylor''s date functions.⍞000D⍞000D    nbts ← {(3↑>/10000⊤100⊥⍉⍵)+⊃↓0 1 1⊖⍵}∘↑ ⍝ first anniversary of ⍵[2] following ⍵[1] (y m d)⍞000D⍞000D    nbts(2007 10 16)(1952 9 15)                                                                        ⍞000D2008 9 15⍞000D⍞000D    laud←{⍺ ⍺⍺ ⍵⍵ ⍺(⍺⍺⍣¯1)⍵}                ⍝ backwards dual⍞000D    nbymd←{10000⊥laud{(1 1⍉⍵)+⌽0 1×≥/⍵}⍵}   ⍝ first anniversary of ⍵[2] following ⍵[1] (ymd)⍞000D    nbymd 20071016 19520915 ⍞000D20080915⍞000D' 
