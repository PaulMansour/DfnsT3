'⍝ Save WS by sharing subarrays:⍞000D⍞000D      ⎕io ⎕ml←1 0⍞000D⍞000D      cvecs←''''                          ⍝ make symbol: "cvecs".⍞000D⍞000D      wsused←{-(⌊⎕wa)-(⌊⎕wa)⊣∘⍎⍵}       ⍝ extra ws used by executing ⍵.⍞000D⍞000D:If {32=2×⎕size''⍵''}⍬                    ⍝ 32-bit interpreter:⍞000D⍞000D          wsused''cvecs←(⍳1e3)⌽¨⊂⎕a''     ⍝ WS used by distinct char vectors,⍞000D    48008⍞000D          wsused''cvecs←pack cvecs''      ⍝ sharing recovers most of it.⍞000D    ¯42864⍞000D:Else                                   ⍝ 64-bit⍞000D          wsused''cvecs←(⍳1e3)⌽¨⊂⎕a''     ⍝ WS used by distinct char vectors,⍞000D    72016⍞000D          wsused''cvecs←pack cvecs''      ⍝ sharing recovers most of it.⍞000D    ¯62352⍞000D:EndIf⍞000D⍞000D      A←''Scissors'' ''Paper'' ''Stone''⍞000D      B←''Paper'' ''Stone'' ''Scissors''⍞000D      C←''Stone'' ''Scissors'' ''Paper''⍞000D⍞000D:If {32=2×⎕size''⍵''}⍬                    ⍝ 32-bit interpreter:⍞000D⍞000D          wsused''A B C←pack A B C''      ⍝ Sharing subarrays <among> variables,⍞000D    ¯152⍞000D⍞000D          nested←⍳¨∘⍳¨∘⍳¨∘⍳¨∘⍳3 3       ⍝ complex nested array:⍞000D          wsused''nested←pack nested''    ⍝ significant saving.⍞000D    ¯17960⍞000D⍞000D          wsused''dups←{⍵ ⍵}/⍳12''        ⍝ deep, shared structure.⍞000D    268⍞000D          wsused''dups←dups+0''           ⍝ unsharing uses much space.⍞000D    44764⍞000D          wsused''dups←pack dups''        ⍝ resharing recovers space.⍞000D    ¯44780⍞000D⍞000D          lvec←⊃{⍺ ⍵}/1↓¨10⍴⊂'' '',⎕a     ⍝ unshared list of char vectors.⍞000D⍞000D          wsused ''lvec←pack lvec''       ⍝ sharing saves space.⍞000D    ¯404⍞000D⍞000D:Else                                   ⍝ 64-bit interpreter:⍞000D          wsused''A B C←pack A B C''      ⍝ Sharing subarrays <among> variables,⍞000D    ¯256⍞000D⍞000D          nested←⍳¨∘⍳¨∘⍳¨∘⍳¨∘⍳3 3       ⍝ complex nested array:⍞000D          wsused''nested←pack nested''    ⍝ significant saving.⍞000D    ¯35920⍞000D⍞000D          wsused''dups←{⍵ ⍵}/⍳12''        ⍝ deep, shared structure.⍞000D    536⍞000D          wsused''dups←dups+0''           ⍝ unsharing uses much space.⍞000D    89528⍞000D          wsused''dups←pack dups''        ⍝ resharing recovers space.⍞000D    ¯89560⍞000D⍞000D          lvec←⊃{⍺ ⍵}/1↓¨10⍴⊂'' '',⎕a     ⍝ unshared list of char vectors.⍞000D⍞000D          wsused ''lvec←pack lvec''       ⍝ sharing saves space.⍞000D    ¯592⍞000D⍞000D:EndIf' 
