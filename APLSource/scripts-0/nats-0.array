'⍝ Natural number arithmetic:⍞000D⍞000D    999 +nats 1⍞000D1000⍞000D    1000 -nats 1⍞000D999⍞000D    999 ×nats 999⍞000D998001⍞000D    (1234 ×nats 5678) ÷nats 1234⍞000D5678⍞000D      {↑÷nats⍨/(⍵⍴⊂⎕d),⊂⎕d*nats ⍵+1}10⍞000D123456789⍞000D⍞000D    3×nats ''33333333333''⍞000D99999999999⍞000D⍞000D    ↑×nats/⍳100     ⍝ !100⍞000D93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000⍞000D⍞000D    0+nats 0⍞000D0⍞000D    1-nats 1⍞000D0⍞000D    0×nats 0⍞000D0⍞000D    123 ×nats 0⍞000D0⍞000D    table←{⍵∘.((⍎⍺)nats)⍵}⍞000D⍞000D    ''+×*''table¨⊂0,⍳5⍞000D  0  1  2  3  4  5     0  0  0   0   0   0     1  0  0   0    0    0     ⍞000D  1  2  3  4  5  6     0  1  2   3   4   5     1  1  1   1    1    1     ⍞000D  2  3  4  5  6  7     0  2  4   6   8   10    1  2  4   8    16   32    ⍞000D  3  4  5  6  7  8     0  3  6   9   12  15    1  3  9   27   81   243   ⍞000D  4  5  6  7  8  9     0  4  8   12  16  20    1  4  16  64   256  1024  ⍞000D  5  6  7  8  9  10    0  5  10  15  20  25    1  5  25  125  625  3125  ⍞000D⍞000D    ''<≤=≥>≠''table¨⊂0 1 2               ⍝ relational fns.⍞000D  0  1  1    1  1  1    1  0  0    1  0  0    0  0  0    0  1  1  ⍞000D  0  0  1    0  1  1    0  1  0    1  1  0    1  0  0    1  0  1  ⍞000D  0  0  0    0  0  1    0  0  1    1  1  1    1  1  0    1  1  0  ⍞000D⍞000D    ''⌈⌊''table¨⊂0,⍳9⍞000D  0  1  2  3  4  5  6  7  8  9    0  0  0  0  0  0  0  0  0  0  ⍞000D  1  1  2  3  4  5  6  7  8  9    0  1  1  1  1  1  1  1  1  1  ⍞000D  2  2  2  3  4  5  6  7  8  9    0  1  2  2  2  2  2  2  2  2  ⍞000D  3  3  3  3  4  5  6  7  8  9    0  1  2  3  3  3  3  3  3  3  ⍞000D  4  4  4  4  4  5  6  7  8  9    0  1  2  3  4  4  4  4  4  4  ⍞000D  5  5  5  5  5  5  6  7  8  9    0  1  2  3  4  5  5  5  5  5  ⍞000D  6  6  6  6  6  6  6  7  8  9    0  1  2  3  4  5  6  6  6  6  ⍞000D  7  7  7  7  7  7  7  7  8  9    0  1  2  3  4  5  6  7  7  7  ⍞000D  8  8  8  8  8  8  8  8  8  9    0  1  2  3  4  5  6  7  8  8  ⍞000D  9  9  9  9  9  9  9  9  9  9    0  1  2  3  4  5  6  7  8  9  ⍞000D⍞000D    ''÷|''table¨⊂⍳9⍞000D  1  0  0  0  0  0  0  0  0    0  0  0  0  0  0  0  0  0  ⍞000D  2  1  0  0  0  0  0  0  0    1  0  1  0  1  0  1  0  1  ⍞000D  3  1  1  0  0  0  0  0  0    1  2  0  1  2  0  1  2  0  ⍞000D  4  2  1  1  0  0  0  0  0    1  2  3  0  1  2  3  0  1  ⍞000D  5  2  1  1  1  0  0  0  0    1  2  3  4  0  1  2  3  4  ⍞000D  6  3  2  1  1  1  0  0  0    1  2  3  4  5  0  1  2  3  ⍞000D  7  3  2  1  1  1  1  0  0    1  2  3  4  5  6  0  1  2  ⍞000D  8  4  2  2  1  1  1  1  0    1  2  3  4  5  6  7  0  1  ⍞000D  9  4  3  2  1  1  1  1  1    1  2  3  4  5  6  7  8  0  ⍞000D⍞000D    ''∨∧''table¨⊂0,⍳9⍞000D  0  1  2  3  4  5  6  7  8  9    0  0  0   0   0   0   0   0   0   0   ⍞000D  1  1  1  1  1  1  1  1  1  1    0  1  2   3   4   5   6   7   8   9   ⍞000D  2  1  2  1  2  1  2  1  2  1    0  2  2   6   4   10  6   14  8   18  ⍞000D  3  1  1  3  1  1  3  1  1  3    0  3  6   3   12  15  6   21  24  9   ⍞000D  4  1  2  1  4  1  2  1  4  1    0  4  4   12  4   20  12  28  8   36  ⍞000D  5  1  1  1  1  5  1  1  1  1    0  5  10  15  20  5   30  35  40  45  ⍞000D  6  1  2  3  2  1  6  1  2  3    0  6  6   6   12  30  6   42  24  18  ⍞000D  7  1  1  1  1  1  1  7  1  1    0  7  14  21  28  35  42  7   56  63  ⍞000D  8  1  2  1  4  1  2  1  8  1    0  8  8   24  8   40  24  56  8   72  ⍞000D  9  1  1  3  1  1  3  1  1  9    0  9  18  9   36  45  18  63  72  9   ⍞000D⍞000D    99999999999÷nats 3              ⍝ raw argument too big.⍞000D11::Bad number: 1E11⍞000D⍞000D    2⍟nats 3                        ⍝ unexpected operand function.⍞000D11::Can''t do: ⍟⍞000D⍞000D    2-nats 3                        ⍝ subtract larger from smaller.⍞000D0⍞000D    1÷nats 0                        ⍝ 1÷0 → error⍞000D11::Div by 0⍞000D⍞000D    0÷nats 0                        ⍝ 0÷0 → 1⍞000D1⍞000D    0÷nats 1                        ⍝ 0÷1 → 0⍞000D0⍞000D    ↑÷nats/⎕d ⎕d *nats¨ 101 100     ⍝ accuracy test.⍞000D123456789⍞000D⍞000D    hint←{(⍺↑⍵),''···'',(-⍺)↑⍵}       ⍝ first and last ⍺ digits. ···⍞000D⍞000D    10 hint (↑*nats/5/2)-nats 3     ⍝ Ackermann(4, 2)⍞000D2003529930···5719156733⍞000D⍞000D    0 1{⍵=0:⊃⍺ ⋄ (1↓⍺,+nats/⍺)∇ ⍵-1}1000      ⍝ 1000th Fibonacci number (JRC).⍞000D43466557686937456435688527675040625802564660517371780402481729089536555417949051890403879840079255169295922593080322634775209689623239873322471161642996440906533187938298969649928516003704476137795166849228875⍞000D⍞000D⍝ Handy prefixes for the first few 2*10×⍵:⍞000D⍝⍞000D    prefs ← ''kilo'' ''mega'' ''giga'' ''tera'' ''peta'' ''exa'' ''zetta'' ''yotta'' ''...''⍞000D⍞000D    ⍉↑prefs{⍺ ⍵}2*nats¨ 10 20 to 200⍞000D kilo   1024                                                          ⍞000D mega   1048576                                                       ⍞000D giga   1073741824                                                    ⍞000D tera   1099511627776                                                 ⍞000D peta   1125899906842624                                              ⍞000D exa    1152921504606846976                                           ⍞000D zetta  1180591620717411303424                                        ⍞000D yotta  1208925819614629174706176                                     ⍞000D ...    1237940039285380274899124224                                  ⍞000D        1267650600228229401496703205376                               ⍞000D        1298074214633706907132624082305024                            ⍞000D        1329227995784915872903807060280344576                         ⍞000D        1361129467683753853853498429727072845824                      ⍞000D        1393796574908163946345982392040522594123776                   ⍞000D        1427247692705959881058285969449495136382746624                ⍞000D        1461501637330902918203684832716283019655932542976             ⍞000D        1496577676626844588240573268701473812127674924007424          ⍞000D        1532495540865888858358347027150309183618739122183602176       ⍞000D        1569275433846670190958947355801916604025588861116008628224    ⍞000D        1606938044258990275541962092341162602522202993782792835301376 ⍞000D⍞000D⍝ regression tests:⍞000D⍞000D    0|nats 3        ⍝ James Moore''s case.⍞000D3⍞000D⍞000D    try←{                       ⍝ test 999...s squared.⍞000D        exp←(⍵ 2 ⍵ 2-1)/''9801''  ⍝ expected result⍞000D        act←×nats⍨⍵/''9''         ⍝ actual result⍞000D        act≡exp                 ⍝ actual matches expected.⍞000D    }⍞000D⍞000D    try 10          ⍝ 9999999999*2 → 99999999980000000001⍞000D1⍞000D    ∧/try¨ 100 200 to 1000⍞000D1⍞000D⍞000D⍝       try 6e4     ⍝ Roger Hui''s case (takes about a minute)⍞000D⍝   1⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍝ The following line edits test''s copy of nats: ⍝⍞000D⍝   s/2*53/2*10/    ⍝ split at 2*10             ⍝⍞000D⍝   s/px←6/px←1/    ⍝ use a radix of 10*1       ⍝⍞000D⍝ to exercise inner function ''mul''s split case. ⍝⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    ⎕fx ''2*53'' ''2*10'' subs ''px←6'' ''px←1'' subs ⎕cr''nats''⍞000Dnats⍞000D⍞000D    ×nats⍨16/''9''    ⍝ check nats with mul-splitting.⍞000D99999999999999980000000000000001⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍝ Some other interesting squares: ⍝⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    pyramid ← {(⌊¯0.5×+/⍵='' '')⌽⍵}       ⍝ rotation of rows to centre number⍞000D⍞000D    sq ← ×nats⍨                         ⍝ ⍵*2⍞000D⍞000D    sqs ← {sq ⍵/⍺}                      ⍝ ⍺⍺..⍺ * 2⍞000D                                        ⍝ └─⍵─┘⍞000D⍞000D    pyramid ↑''9''sqs¨ 1 to 10            ⍝ 99..9 * 2     (as above)⍞000D         81         ⍞000D        9801        ⍞000D       998001       ⍞000D      99980001      ⍞000D     9999800001     ⍞000D    999998000001    ⍞000D   99999980000001   ⍞000D  9999999800000001  ⍞000D 999999998000000001 ⍞000D99999999980000000001⍞000D⍞000D    pyramid ↑''3''sqs¨ 1 to 10            ⍝ 33..3 * 2⍞000D          9         ⍞000D        1089        ⍞000D       110889       ⍞000D      11108889      ⍞000D     1111088889     ⍞000D    111110888889    ⍞000D   11111108888889   ⍞000D  1111111088888889  ⍞000D 111111110888888889 ⍞000D11111111108888888889⍞000D⍞000D    pyramid ↑''6''sqs¨ 1 to 10            ⍝ 66..6 * 2⍞000D         36         ⍞000D        4356        ⍞000D       443556       ⍞000D      44435556      ⍞000D     4444355556     ⍞000D    444443555556    ⍞000D   44444435555556   ⍞000D  4444444355555556  ⍞000D 444444443555555556 ⍞000D44444444435555555556⍞000D⍞000D    pyramid ↑''1''sqs¨ 1 to 40            ⍝ 11..1 * 2⍞000D                                       1                                       ⍞000D                                      121                                      ⍞000D                                     12321                                     ⍞000D                                    1234321                                    ⍞000D                                   123454321                                   ⍞000D                                  12345654321                                  ⍞000D                                 1234567654321                                 ⍞000D                                123456787654321                                ⍞000D                               12345678987654321                               ⍞000D                              1234567900987654321                              ⍞000D                             123456790120987654321                             ⍞000D                            12345679012320987654321                            ⍞000D                           1234567901234320987654321                           ⍞000D                          123456790123454320987654321                          ⍞000D                         12345679012345654320987654321                         ⍞000D                        1234567901234567654320987654321                        ⍞000D                       123456790123456787654320987654321                       ⍞000D                      12345679012345678987654320987654321                      ⍞000D                     1234567901234567900987654320987654321                     ⍞000D                    123456790123456790120987654320987654321                    ⍞000D                   12345679012345679012320987654320987654321                   ⍞000D                  1234567901234567901234320987654320987654321                  ⍞000D                 123456790123456790123454320987654320987654321                 ⍞000D                12345679012345679012345654320987654320987654321                ⍞000D               1234567901234567901234567654320987654320987654321               ⍞000D              123456790123456790123456787654320987654320987654321              ⍞000D             12345679012345679012345678987654320987654320987654321             ⍞000D            1234567901234567901234567900987654320987654320987654321            ⍞000D           123456790123456790123456790120987654320987654320987654321           ⍞000D          12345679012345679012345679012320987654320987654320987654321          ⍞000D         1234567901234567901234567901234320987654320987654320987654321         ⍞000D        123456790123456790123456790123454320987654320987654320987654321        ⍞000D       12345679012345679012345679012345654320987654320987654320987654321       ⍞000D      1234567901234567901234567901234567654320987654320987654320987654321      ⍞000D     123456790123456790123456790123456787654320987654320987654320987654321     ⍞000D    12345679012345679012345679012345678987654320987654320987654320987654321    ⍞000D   1234567901234567901234567901234567900987654320987654320987654320987654321   ⍞000D  123456790123456790123456790123456790120987654320987654320987654320987654321  ⍞000D 12345679012345679012345679012345679012320987654320987654320987654320987654321 ⍞000D1234567901234567901234567901234567901234320987654320987654320987654320987654321⍞000D⍞000D⍝ test Gianluigi''s input formatting function:⍞000D⍞000D    pfmt←{⎕IO ⎕ML ⎕PP←0 0 16            ⍝ plain format of a numeric scalar.⍞000D        rep←⍕⍵⍞000D        ⍵≡rep:⍵⍞000D        ~''E''∊rep:rep⍞000D        exp←⍎(1+rep⍳''E'')↓rep⍞000D        0>exp:''_ ''~⍨(⎕PP-exp)⍕⍵⍞000D        sig←''¯''=⊃rep⍞000D        man←⎕PP↑''.''~⍨(sig↓(rep⍳''E'')↑rep),⎕PP⍴''0''  ⍝ mantissa⍞000D        (sig⍴''¯''),(1+exp)↑man,exp⍴''0''⍞000D    }⍞000D⍞000D    456+nats pfmt 123E20⍞000D12300000000000000000456' 
