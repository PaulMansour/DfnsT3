'⍝ Show dfn with "white dots":⍞000D⍞000D    dots refmt ⎕cr''dots''⍞000Ddots←{                         ⍝ Show dfn with "white dots".    ⍞000D·   ⍺←''·''                      ⍝ white dot.                     ⍞000D·   kwds←'':E'' '':C'' '':U''⍷¨⊂⍵    ⍝ end of ctrl paragraph keywords.⍞000D·   ends←↑∨/kwds,⊂⍵=''}''        ⍝ end of cstructs and dfns.      ⍞000D·   spcs←∧\'' ''=⍵               ⍝ leading spaces.                ⍞000D·   xdents←ends∧1,0 ¯1↓spcs    ⍝ leading exdents.               ⍞000D·   flood←(⍪1 2){              ⍝ flood upwards into blanks.     ⍞000D·   ·   hits←⍺⍷⍵               ⍝ 1s above 2s                    ⍞000D·   ·   ~1∊hits:⍵              ⍝ none: done.                    ⍞000D·   ·   ⍺ ∇ hits+⍵             ⍝ try again with 1 2 → 2 2.      ⍞000D·   }spcs+2×xdents             ⍝ spaces ''n braces.              ⍞000D·   dmask←,2=flood-xdents      ⍝ mask vector for white dots.    ⍞000D·                                                               ⍞000D·   crep←⍵                     ⍝ name canonical rep to          ⍞000D·   crep[dmask/,⍳⍴⍵]←⍺         ⍝ place dots in char matrix,     ⍞000D·   crep                       ⍝ and return.                    ⍞000D}                                                               ⍞000D⍞000D    ''│''dots refmt ⎕cr''dots''⍞000Ddots←{                         ⍝ Show dfn with "white dots".    ⍞000D│   ⍺←''·''                      ⍝ white dot.                     ⍞000D│   kwds←'':E'' '':C'' '':U''⍷¨⊂⍵    ⍝ end of ctrl paragraph keywords.⍞000D│   ends←↑∨/kwds,⊂⍵=''}''        ⍝ end of cstructs and dfns.      ⍞000D│   spcs←∧\'' ''=⍵               ⍝ leading spaces.                ⍞000D│   xdents←ends∧1,0 ¯1↓spcs    ⍝ leading exdents.               ⍞000D│   flood←(⍪1 2){              ⍝ flood upwards into blanks.     ⍞000D│   │   hits←⍺⍷⍵               ⍝ 1s above 2s                    ⍞000D│   │   ~1∊hits:⍵              ⍝ none: done.                    ⍞000D│   │   ⍺ ∇ hits+⍵             ⍝ try again with 1 2 → 2 2.      ⍞000D│   }spcs+2×xdents             ⍝ spaces ''n braces.              ⍞000D│   dmask←,2=flood-xdents      ⍝ mask vector for white dots.    ⍞000D│                                                               ⍞000D│   crep←⍵                     ⍝ name canonical rep to          ⍞000D│   crep[dmask/,⍳⍴⍵]←⍺         ⍝ place dots in char matrix,     ⍞000D│   crep                       ⍝ and return.                    ⍞000D}                                                               ' 
