'⍝ Multi-line D-input:⍞000D⍞000D⍝ Din uses quote-quad input/output. For testing, we modify copies of⍞000D⍝ the function to input from variable ∆i and output to variable ∆o.⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D                                                            ⍝⍞000D    ∆in←{(∆i↓⍨←1)⊢⍵,⊃∆i}        ⍝ input from buffer         ⍝⍞000D                                                            ⍝⍞000D    qp←''⍞235E⊣⍞235E←'' ''∆in''∘subs        ⍝ subs quote-quad prompt    ⍝⍞000D                                                            ⍝⍞000D    _←⎕fx qp ⎕cr''din''           ⍝ modify copy of function.  ⍝⍞000D                                                            ⍝⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    ∆i ←⊂''''⍞000D    ∆i,←⊂''      ⍝ blank lines''⍞000D    ∆i,←⊂''      ⍝ and comments''⍞000D    ∆i,←⊂''0:⍵   ⍝ preserved''⍞000D    ∆i,←⊂''⍵ ⍵''⍞000D    ∆i,←⊂''''⍞000D⍞000D    dots ⎕cr din''dup''           ⍝ input of regular dfn.⍞000Ddup←{                   ⍞000D·         ⍝ blank lines ⍞000D·         ⍝ and comments⍞000D·   0:⍵   ⍝ preserved   ⍞000D·   ⍵ ⍵                 ⍞000D}                       ⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    ∆i←⊂''⍵ ⍵}''⍞000D⍞000D    ⎕cr din''dup''                ⍝ single line input.⍞000Ddup←{⍵ ⍵}⍞000D⍞000D    ∆i←⊂''2+3''                   ⍝ single line input.⍞000D⍞000D    din''''⍞000D5⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    ∆i ←⊂''{''           ⍝·   {⍞000D    ∆i,←⊂''⍵ ⍵''         ⍝·   ·   ⍵ ⍵⍞000D    ∆i,←⊂''∘{''          ⍝·   }∘{⍞000D    ∆i,←⊂''⍵ ⍵''         ⍝·   ·   ⍵ ⍵⍞000D    ∆i,←⊂''0''           ⍝·   }0⍞000D    ⍞000D    disp din''''                  ⍝ multi-line expression.⍞000D┌───┬───┐⍞000D│0 0│0 0│⍞000D└───┴───┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    ∆i ←⊂''f←{''         ⍝·   f←{         ⍝ comments⍞000D    ∆i,←⊂''⍵ ⍵''         ⍝·   ·   ⍵ ⍵     ⍝ removed⍞000D    ∆i,←⊂''∘{''          ⍝·   }∘{⍞000D    ∆i,←⊂''⍵ ⍵''         ⍝·   ·   ⍵ ⍵⍞000D    ∆i,←⊂''{''           ⍝·   }{⍞000D    ∆i,←⊂''⍺⍺ ⍺⍺ ⍵''     ⍝·   ·   ⍺⍺ ⍺⍺ ⍵⍞000D    ∆i,←⊂''''            ⍝·   }⍞000D⍞000D    ⍎''din'''''''' ⋄ 0 0⍴0''          ⍝ multi-line derived fn:⍞000D⍞000D    disp ⎕cr''f''⍞000D┌───────────────┬─────────┐⍞000D│┌─────┬─┬─────┐│{⍺⍺ ⍺⍺ ⍵}│⍞000D││{⍵ ⍵}│∘│{⍵ ⍵}││         │⍞000D│└─────┴─┴─────┘│         │⍞000D└───────────────┴─────────┘⍞000D' 
