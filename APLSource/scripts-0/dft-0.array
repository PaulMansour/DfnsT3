'⍝ Display of function tree:⍞000D⍞000D    mean ← ÷∘⍴⍨∘(+/)⍨           ⍝ derived function for average.⍞000D⍞000D    mean dft 1                  ⍝ narrow (space-frugal) display.⍞000D       ⍨⍞000D     ┌─┘⍞000D     ∘  ⍞000D   ┌─┴─┐⍞000D   ⍨   /⍞000D ┌─┘ ┌─┘⍞000D ∘   +  ⍞000D┌┴┐     ⍞000D÷ ⍴     ⍞000D⍞000D    mean dft 3                  ⍝ wide (space-generous) display.⍞000D           ⍨ ⍞000D        ┌──┘ ⍞000D        ∘    ⍞000D     ┌──┴───┐⍞000D     ⍨      /⍞000D  ┌──┘   ┌──┘⍞000D  ∘      +   ⍞000D┌─┴─┐        ⍞000D÷   ⍴        ⍞000D⍞000D    1 0  +¨¨¨.× dft¨ 3                  ⍝ diagonal vs vertical left operand.⍞000D            .      .   ⍞000D          ┌─┴─┐  ┌─┴─┐ ⍞000D          ¨   ×  ¨   × ⍞000D       ┌──┘      │     ⍞000D       ¨         ¨     ⍞000D    ┌──┘         │     ⍞000D    ¨            ¨     ⍞000D ┌──┘            │     ⍞000D +               +     ⍞000D⍞000D    ↑∘(÷∘⊂∘(1∘∨)⍨∘(1∘(,⍨∘⊂))⍨) dft 3    ⍝ derived function for rational pair.⍞000D               ∘        ⍞000D             ┌─┴─┐      ⍞000D             ↑   ⍨      ⍞000D              ┌──┘      ⍞000D              ∘         ⍞000D         ┌────┴────┐    ⍞000D         ⍨         ∘    ⍞000D      ┌──┘       ┌─┴─┐  ⍞000D      ∘          1   ∘  ⍞000D  ┌───┴───┐        ┌─┴─┐⍞000D  ∘       ∘        ⍨   ⊂⍞000D┌─┴─┐   ┌─┴─┐   ┌──┘    ⍞000D÷   ⊂   1   ∨   ,       ⍞000D⍞000D    +.×⍨∘(÷⍨∘⌽∘(×\)∘⌽⍨)⍨ dft 3⍞000D             ⍨ ⍞000D          ┌──┘ ⍞000D          ∘    ⍞000D      ┌───┴───┐⍞000D      ⍨       ⍨⍞000D   ┌──┘    ┌──┘⍞000D   .       ∘   ⍞000D ┌─┴─┐   ┌─┴─┐ ⍞000D +   ×   ∘   ⌽ ⍞000D     ┌───┴────┐⍞000D     ∘        \⍞000D   ┌─┴─┐   ┌──┘⍞000D   ⍨   ⌽   ×   ⍞000D┌──┘           ⍞000D÷              ⍞000D⍞000D    +dft 3                          ⍝ primitive function.⍞000D+⍞000D    +¨dft 3                         ⍝ function derived from monadic operator.⍞000D   ¨⍞000D┌──┘⍞000D+   ⍞000D    +/[2] dft 3                     ⍝ check axis operator.⍞000D      [2]⍞000D   ┌──┘  ⍞000D   /     ⍞000D┌──┘     ⍞000D+        ⍞000D    +¨∘(÷¨¨¨¨)dft 3                 ⍝ overlapping subtrees.⍞000D        ∘    ⍞000D     ┌──┴───┐⍞000D     ¨      ¨⍞000D  ┌──┘   ┌──┘⍞000D  +      ¨   ⍞000D      ┌──┘   ⍞000D      ¨      ⍞000D   ┌──┘      ⍞000D   ¨         ⍞000D┌──┘         ⍞000D÷            ⍞000D    +∘(+¨¨¨)dft 3                   ⍝ overlapping subtrees.⍞000D       ∘  ⍞000D     ┌─┴─┐⍞000D     +   ¨⍞000D      ┌──┘⍞000D      ¨   ⍞000D   ┌──┘   ⍞000D   ¨      ⍞000D┌──┘      ⍞000D+         ⍞000D    f←+.-.×.÷.⌈.⌊⍞000D⍞000D    f∘f∘f∘f∘f dft 3                 ⍝ complex derived function expression.⍞000D                                      ∘            ⍞000D                             ┌────────┴─────────┐  ⍞000D                             ∘                  .  ⍞000D                     ┌───────┴────────┐       ┌─┴─┐⍞000D                     ∘                .       .   ⌊⍞000D              ┌──────┴──────┐       ┌─┴─┐   ┌─┴─┐  ⍞000D              ∘             .       .   ⌊   .   ⌈  ⍞000D          ┌───┴───┐       ┌─┴─┐   ┌─┴─┐   ┌─┴─┐    ⍞000D          .       .       .   ⌊   .   ⌈   .   ÷    ⍞000D        ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐      ⍞000D        .   ⌊   .   ⌊   .   ⌈   .   ÷   .   ×      ⍞000D      ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐        ⍞000D      .   ⌈   .   ⌈   .   ÷   .   ×   +   -        ⍞000D    ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐                  ⍞000D    .   ÷   .   ÷   .   ×   +   -                  ⍞000D  ┌─┴─┐   ┌─┴─┐   ┌─┴─┐                            ⍞000D  .   ×   .   ×   +   -                            ⍞000D┌─┴─┐   ┌─┴─┐                                      ⍞000D+   -   +   -                                      ⍞000D⍞000D    ∧¨¨¨¨¨¨{⍺⍺∘⍺⍺{⍺⍺∘⍺⍺{⍺⍺∘⍺⍺ dft ⍵}⍵}⍵}3         ⍝ scary sea monster⍞000D                                          ∘                         ⍞000D                            ┌─────────────┴─────────────┐           ⍞000D                            ∘                           ∘           ⍞000D                     ┌──────┴──────┐             ┌──────┴──────┐    ⍞000D                     ∘             ∘             ∘             ∘    ⍞000D                  ┌──┴───┐      ┌──┴───┐      ┌──┴───┐      ┌──┴───┐⍞000D                  ¨      ¨      ¨      ¨      ¨      ¨      ¨      ¨⍞000D               ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘⍞000D               ¨      ¨      ¨      ¨      ¨      ¨      ¨      ¨   ⍞000D            ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ⍞000D            ¨      ¨      ¨      ¨      ¨      ¨      ¨      ¨      ⍞000D         ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘      ⍞000D         ¨      ¨      ¨      ¨      ¨      ¨      ¨      ¨         ⍞000D      ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘         ⍞000D      ¨      ¨      ¨      ¨      ¨      ¨      ¨      ¨            ⍞000D   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘            ⍞000D   ¨      ¨      ¨      ¨      ¨      ¨      ¨      ¨               ⍞000D┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘   ┌──┘               ⍞000D∧      ∧      ∧      ∧      ∧      ∧      ∧      ∧                  ⍞000D⍞000D    ∧¨¨¨¨¨¨{⍺⍺∘⍺⍺{⍺⍺∘⍺⍺{0 ⍺⍺∘⍺⍺ dft ⍵}⍵}⍵}3       ⍝ snoozing sea monster⍞000D              ∘              ⍞000D      ┌───────┴───────┐      ⍞000D      ∘               ∘      ⍞000D  ┌───┴───┐       ┌───┴───┐  ⍞000D  ∘       ∘       ∘       ∘  ⍞000D┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐⍞000D¨   ¨   ¨   ¨   ¨   ¨   ¨   ¨⍞000D│   │   │   │   │   │   │   │⍞000D¨   ¨   ¨   ¨   ¨   ¨   ¨   ¨⍞000D│   │   │   │   │   │   │   │⍞000D¨   ¨   ¨   ¨   ¨   ¨   ¨   ¨⍞000D│   │   │   │   │   │   │   │⍞000D¨   ¨   ¨   ¨   ¨   ¨   ¨   ¨⍞000D│   │   │   │   │   │   │   │⍞000D¨   ¨   ¨   ¨   ¨   ¨   ¨   ¨⍞000D│   │   │   │   │   │   │   │⍞000D¨   ¨   ¨   ¨   ¨   ¨   ¨   ¨⍞000D│   │   │   │   │   │   │   │⍞000D∧   ∧   ∧   ∧   ∧   ∧   ∧   ∧⍞000D⍞000D      f←+⍞000D      f←+.f⍞000D      f←+.f⍞000D      f←+.f⍞000D      f←+.f⍞000D      f←+.f⍞000D      f←+.f⍞000D      f.f dft 3                     ⍝ test overlapping to the right.⍞000D      .                ⍞000D  ┌───┴───┐            ⍞000D  .       .            ⍞000D┌─┴─┐   ┌─┴─┐          ⍞000D+   .   +   .          ⍞000D  ┌─┴─┐   ┌─┴─┐        ⍞000D  +   .   +   .        ⍞000D    ┌─┴─┐   ┌─┴─┐      ⍞000D    +   .   +   .      ⍞000D      ┌─┴─┐   ┌─┴─┐    ⍞000D      +   .   +   .    ⍞000D        ┌─┴─┐   ┌─┴─┐  ⍞000D        +   .   +   .  ⍞000D          ┌─┴─┐   ┌─┴─┐⍞000D          +   +   +   +⍞000D⍞000D    f←+⍞000D    f←f.f⍞000D    f←f.f⍞000D    f←f.f⍞000D    f←f.f⍞000D    f dft 3                   ⍝ balanced tree.⍞000D                              .                              ⍞000D              ┌───────────────┴───────────────┐              ⍞000D              .                               .              ⍞000D      ┌───────┴───────┐               ┌───────┴───────┐      ⍞000D      .               .               .               .      ⍞000D  ┌───┴───┐       ┌───┴───┐       ┌───┴───┐       ┌───┴───┐  ⍞000D  .       .       .       .       .       .       .       .  ⍞000D┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐⍞000D+   +   +   +   +   +   +   +   +   +   +   +   +   +   +   +⍞000D⍞000D    dd←{f←⍺⍺ ⋄ ,⎕fmt ⎕cr''f''}        ⍝ default display.⍞000D⍞000D    f dd 0⍞000D   +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+   ⍞000D⍞000D    f←f.f                           ⍝ deeper tree.⍞000D    f←f.f⍞000D    f←f.f⍞000D    f←f.f⍞000D    f←f.f⍞000D⍞000D    80 wrap f dd 0                  ⍝ Starry, starry night.⍞000D        +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+ ⍞000D.  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+     .     +.+ . +.+  .  +.+ . +.+   .⍞000D  +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .    ⍞000D+.+ . +.+      .      +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .⍞000D   +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+     .     +.+ . +.+  . ⍞000D+.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .     ⍞000D+.+ . +.+  .  +.+ . +.+       .       +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .⍞000D +.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+     .  ⍞000D  +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .    ⍞000D+.+ . +.+   .   +.+ . +.+  .  +.+ . +.+      .      +.+ . +.+  .  +.+ . +.+   . ⍞000D +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+⍞000D. +.+     .     +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .      ⍞000D+.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+        .        +.+ . +.+ ⍞000D.  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .  ⍞000D+.+ . +.+  .  +.+ . +.+     .     +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .    ⍞000D+.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+      .  ⍞000D   +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .   ⍞000D+.+ . +.+   .   +.+ . +.+  .  +.+ . +.+     .     +.+ . +.+  .  +.+ . +.+   .   ⍞000D+.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ ⍞000D. +.+       .       +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .  ⍞000D +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+     .     +.+ . +.+  .   ⍞000D+.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .     ⍞000D+.+ . +.+  .  +.+ . +.+      .      +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  ⍞000D+.+ . +.+    .    +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+     .   ⍞000D +.+ . +.+  .  +.+ . +.+   .   +.+ . +.+  .  +.+ . +.+    .    +.+ . +.+  .  +.+⍞000D. +.+   .   +.+ . +.+  .  +.+ . +.+                                             ⍞000D⍞000D    1 2 f 3 4                       ⍝ (deep inner product).⍞000D10⍞000D⍞000D    1234∘,∘(,∘5678)dft 3            ⍝ array operands.⍞000D        ∘          ⍞000D   ┌────┴────┐     ⍞000D   ∘         ∘     ⍞000D┌──┴───┐   ┌─┴─┐   ⍞000D1234   ,   ,   5678⍞000D⍞000D    {⍺}{⍺⍺}{⍺⍺}{⍺⍺}dft 3            ⍝ non-primitive monadic operator.⍞000D         {⍺⍺}⍞000D      ┌──┘   ⍞000D      {⍺⍺}   ⍞000D   ┌──┘      ⍞000D   {⍺⍺}      ⍞000D┌──┘         ⍞000D{⍺}          ⍞000D⍞000D    {⍵}{⍵⍵}{⍵}{⍺⍺{⍵⍵}⍺⍺ dft ⍵} 3    ⍝ non-primitive dyadic operator.⍞000D         {⍵⍵}        ⍞000D   ┌─────┴─────┐     ⍞000D   {⍵⍵}        {⍵⍵}  ⍞000D┌──┴──┐     ┌──┴──┐  ⍞000D{⍵}   {⍵}   {⍵}   {⍵}⍞000D⍞000D    {}⎕fx''fn←{''  ''    ⍵''       ''}''  ⍝ multi-line function.⍞000D    {}⎕fx''mop←{'' ''    ⍺⍺ ⍵''    ''}''  ⍝ multi-line monadic operator.⍞000D    {}⎕fx''dop←{'' ''    ⍺⍺ ⍵⍵ ⍵'' ''}''  ⍝ multi-line dyadic operator.⍞000D          mat←3 4⍴⍳12               ⍝ multi-line array operand.⍞000D⍞000D    fn mop dop(mat mop) dft 3⍞000D        {··········   ⍞000D        ····⍺⍺·⍵⍵·⍵   ⍞000D        }··········   ⍞000D   ┌────┴─────┐       ⍞000D   {·······   {·······⍞000D   ····⍺⍺·⍵   ····⍺⍺·⍵⍞000D   }·······   }·······⍞000D┌──┘       ┌──┘       ⍞000D{····      1··2··3··4 ⍞000D····⍵      5··6··7··8 ⍞000D}····      9·10·11·12 ⍞000D⍞000D    ⊃∘(0 1 1∘+)∘(0.5 0 3∘×)⍨∘(2∘⊥)∘(|∘(1∘(,⍨))⍨∘(2∘,)⍨)⍨⍣≡ dft 3    ⍝ osc⍞000D                            ⍣       ⍞000D                          ┌─┴─┐     ⍞000D                          ⍨   ≡     ⍞000D                       ┌──┘         ⍞000D                       ∘            ⍞000D             ┌─────────┴─────────┐  ⍞000D             ∘                   ⍨  ⍞000D          ┌──┴──┐             ┌──┘  ⍞000D          ⍨     ∘             ∘     ⍞000D       ┌──┘   ┌─┴─┐        ┌──┴──┐  ⍞000D       ∘      2   ⊥        ⍨     ∘  ⍞000D  ┌────┴─────┐          ┌──┘   ┌─┴─┐⍞000D  ∘          ∘          ∘      2   ,⍞000D┌─┴─┐   ┌────┴────┐   ┌─┴─┐         ⍞000D⊃   ∘   0.5·0·3   ×   |   ∘         ⍞000D┌───┴───┐               ┌─┴─┐       ⍞000D0·1·1   +               1   ⍨       ⍞000D                         ┌──┘       ⍞000D                         ,          ⍞000D⍞000D    in←{⊃⍺⍺/⍵}              ⍝ in (between):             f in x y → x f y⍞000D    on←{⍺⍺ ⍺ ⍵}             ⍝ and its counterpart:      x f on y → f x y⍞000D⍞000D    ↑⍨∘-⍨∘⊃⍨∘(+⍨∘⊃⍨∘(×∘⍴⍨∘×⍨in)⍨on⍨in)⍨on⍨ dft 3        ⍝ inverse for ⍺∘↓.⍞000D                            ⍨    ⍞000D                         ┌──┘    ⍞000D                         {⍺⍺·⍺·⍵}⍞000D                      ┌──┘       ⍞000D                      ⍨          ⍞000D                   ┌──┘          ⍞000D                   ∘             ⍞000D              ┌────┴────┐        ⍞000D              ⍨         {⊃⍺⍺/⍵}  ⍞000D           ┌──┘      ┌──┘        ⍞000D           ∘         ⍨           ⍞000D         ┌─┴─┐    ┌──┘           ⍞000D         ⍨   ⊃    {⍺⍺·⍺·⍵}       ⍞000D      ┌──┘     ┌──┘              ⍞000D      ∘        ⍨                 ⍞000D    ┌─┴─┐   ┌──┘                 ⍞000D    ⍨   -   ∘                    ⍞000D ┌──┘   ┌───┴────┐               ⍞000D ↑      ⍨        {⊃⍺⍺/⍵}         ⍞000D     ┌──┘     ┌──┘               ⍞000D     ∘        ⍨                  ⍞000D   ┌─┴─┐   ┌──┘                  ⍞000D   ⍨   ⊃   ∘                     ⍞000D┌──┘     ┌─┴─┐                   ⍞000D+        ⍨   ×                   ⍞000D      ┌──┘                       ⍞000D      ∘                          ⍞000D    ┌─┴─┐                        ⍞000D    ×   ⍴                        ⍞000D⍞000D    ⌈/¨∘(-∘⊂∘⍳∘⊃∘⌽∘⍴∘⊃⍨)∘(⍳¨in)∘(↓¨)on dft 3            ⍝ inverse for ⌽∘⍵.⍞000D                               {⍺⍺·⍺·⍵}⍞000D                            ┌──┘       ⍞000D                            ∘          ⍞000D                  ┌─────────┴─────────┐⍞000D                  ∘                   ¨⍞000D           ┌──────┴──────┐         ┌──┘⍞000D           ∘             {⊃⍺⍺/⍵}   ↓   ⍞000D        ┌──┴───┐      ┌──┘             ⍞000D        ¨      ⍨      ¨                ⍞000D     ┌──┘   ┌──┘   ┌──┘                ⍞000D     /      ∘      ⍳                   ⍞000D  ┌──┘    ┌─┴─┐                        ⍞000D  ⌈       ∘   ⊃                        ⍞000D        ┌─┴─┐                          ⍞000D        ∘   ⍴                          ⍞000D      ┌─┴─┐                            ⍞000D      ∘   ⌽                            ⍞000D    ┌─┴─┐                              ⍞000D    ∘   ⊃                              ⍞000D  ┌─┴─┐                                ⍞000D  ∘   ⍳                                ⍞000D┌─┴─┐                                  ⍞000D-   ⊂                                  ⍞000D⍞000D    dinv ← ↑⍨∘-⍨∘⊃⍨∘(+⍨∘⊃⍨∘(×∘⍴⍨∘×⍨in)⍨ on⍨in)⍨ on⍨   ⍝ drop inverse.⍞000D⍞000D    2 3 dinv 3 2⍴⍳6⍞000D0 0 0 0 0⍞000D0 0 0 0 0⍞000D0 0 0 1 2⍞000D0 0 0 3 4⍞000D0 0 0 5 6⍞000D⍞000D    leq ← ∨∘(=in)⍨∘(<in)⍨ on            ⍝ equivalent of dyadic fork (< ∨ =)⍞000D⍞000D    0 0 1 1 leq 0 1 0 1                 ⍝ test function.⍞000D1 1 0 1⍞000D⍞000D    leq dft 3                           ⍝ display function tree.⍞000D              {⍺⍺·⍺·⍵}⍞000D           ┌──┘       ⍞000D           ⍨          ⍞000D        ┌──┘          ⍞000D        ∘             ⍞000D     ┌──┴───┐         ⍞000D     ⍨      {⊃⍺⍺/⍵}   ⍞000D  ┌──┘   ┌──┘         ⍞000D  ∘      <            ⍞000D┌─┴─┐                 ⍞000D∨   {⊃⍺⍺/⍵}           ⍞000D ┌──┘                 ⍞000D =                    ⍞000D⍞000D    ⍝ function to generate vector of possible inverses for ⍉∘⍵ :⍞000D⍞000D    set←∧/∘⊃∘(,∘⊃∘(∊⍨/)⍨∘(⊃∘(∊/))⍨/)on⍨on⍞000D    sel←⊃∘((/⍨)/)∘(set¨⍨∘⊂\)on⍨⍞000D    cvec←(sel∘,∘⍳∘(⍴⍨)∘⍴∘⍴)⍨∘(⍳∘⍴∘⍴)⍨⍞000D    trinv←⊃∘(cvec/)on⍞000D⍞000D    trinv dft 3⍞000D                                                          {⍺⍺·⍺·⍵}⍞000D                                                       ┌──┘       ⍞000D                                                       ∘          ⍞000D                                                     ┌─┴─┐        ⍞000D                                                     ⊃   /        ⍞000D                                                      ┌──┘        ⍞000D                                                      ⍨           ⍞000D                                                   ┌──┘           ⍞000D                                                   ∘              ⍞000D                                                ┌──┴───┐          ⍞000D                                                ⍨      ∘          ⍞000D                                             ┌──┘    ┌─┴─┐        ⍞000D                                             ∘       ∘   ⍴        ⍞000D                                           ┌─┴─┐   ┌─┴─┐          ⍞000D                                           ∘   ⍴   ⍳   ⍴          ⍞000D                                         ┌─┴─┐                    ⍞000D                                         ∘   ⍴                    ⍞000D                                     ┌───┴────┐                   ⍞000D                                     ∘        ⍨                   ⍞000D                                   ┌─┴─┐   ┌──┘                   ⍞000D                                   ∘   ⍳   ⍴                      ⍞000D                                 ┌─┴─┐                            ⍞000D                                 ⍨   ,                            ⍞000D                              ┌──┘                                ⍞000D                              {⍺⍺·⍺·⍵}                            ⍞000D                           ┌──┘                                   ⍞000D                           ∘                                      ⍞000D                      ┌────┴─────┐                                ⍞000D                      ∘          \                                ⍞000D                    ┌─┴─┐     ┌──┘                                ⍞000D                    ⊃   /     ∘                                   ⍞000D                     ┌──┘   ┌─┴─┐                                 ⍞000D                     ⍨      ⍨   ⊂                                 ⍞000D                  ┌──┘   ┌──┘                                     ⍞000D                  /      ¨                                        ⍞000D                      ┌──┘                                        ⍞000D                      {⍺⍺·⍺·⍵}                                    ⍞000D                   ┌──┘                                           ⍞000D                   ⍨                                              ⍞000D                ┌──┘                                              ⍞000D                {⍺⍺·⍺·⍵}                                          ⍞000D             ┌──┘                                                 ⍞000D             ∘                                                    ⍞000D         ┌───┴────┐                                               ⍞000D         ∘        /                                               ⍞000D       ┌─┴─┐   ┌──┘                                               ⍞000D       /   ⊃   ⍨                                                  ⍞000D    ┌──┘    ┌──┘                                                  ⍞000D    ∧       ∘                                                     ⍞000D         ┌──┴───┐                                                 ⍞000D         ⍨      ∘                                                 ⍞000D      ┌──┘    ┌─┴─┐                                               ⍞000D      ∘       ⊃   /                                               ⍞000D  ┌───┴────┐   ┌──┘                                               ⍞000D  ∘        /   ∊                                                  ⍞000D┌─┴─┐   ┌──┘                                                      ⍞000D,   ⊃   ⍨                                                         ⍞000D     ┌──┘                                                         ⍞000D     ∊                                                            ⍞000D⍞000D    {⍺}∘{⍵}dft 3        ⍝ check we distinguish {⍵} from a dyadic derv.⍞000D   ∘     ⍞000D┌──┴──┐  ⍞000D{⍺}   {⍵}⍞000D⍞000D    ''abc''∘, dft 3       ⍝ not all 3-vectors are dervs.⍞000D   ∘   ⍞000D┌──┴──┐⍞000Dabc   ,⍞000D⍞000D⍞000D    ulam←⍴∘⍒∘(+\)∘(↑∘(,∘((/∘(⍴∘(1∘,∘(,∘(¯1∘,)⍨∘-⍨))⍨∘(2∘×)⍨)⍨∘(2∘/∘⍳))⍨)⍨∘(+∘(×∘⌊∘(÷∘2)⍨∘(1∘+)⍨)⍨∘(2∘|)⍨)⍨)⍨∘(×⍨)⍨)⍨∘(,⍨)⍨⍞000D⍞000D    ulam 10             ⍝ Ulam spiral:⍞000D82 81 80 79 78 77 76 75 74  73⍞000D83 50 49 48 47 46 45 44 43  72⍞000D84 51 26 25 24 23 22 21 42  71⍞000D85 52 27 10  9  8  7 20 41  70⍞000D86 53 28 11  2  1  6 19 40  69⍞000D87 54 29 12  3  4  5 18 39  68⍞000D88 55 30 13 14 15 16 17 38  67⍞000D89 56 31 32 33 34 35 36 37  66⍞000D90 57 58 59 60 61 62 63 64  65⍞000D91 92 93 94 95 96 97 98 99 100⍞000D⍞000D⍝ The following output compares the two styles of attaching a left operand to⍞000D⍝ its monadic operator. The left tree shows the diagonal or "dog-leg" style,⍞000D⍝ while the right tree shows the straight-down style:⍞000D⍞000D    1 0 ulam dft¨ 3⍞000D                                           ⍨                ⍨                  ⍞000D                                        ┌──┘                │                  ⍞000D                                        ∘                   ∘                  ⍞000D                                     ┌──┴───┐             ┌─┴─┐                ⍞000D                                     ⍨      ⍨             ⍨   ⍨                ⍞000D                                  ┌──┘   ┌──┘             │   │                ⍞000D                                  ∘      ,                ∘   ,                ⍞000D                           ┌──────┴───────┐           ┌───┴────┐               ⍞000D                           ∘              ⍨           ∘        ⍨               ⍞000D                       ┌───┴────┐      ┌──┘        ┌──┴──┐     │               ⍞000D                       ∘        \      ∘           ∘     \     ∘               ⍞000D                     ┌─┴─┐   ┌──┘   ┌──┴───┐     ┌─┴─┐   │   ┌─┴─┐             ⍞000D                     ⍴   ⍒   +      ⍨      ⍨     ⍴   ⍒   +   ⍨   ⍨             ⍞000D                                 ┌──┘   ┌──┘                 │   │             ⍞000D                                 ∘      ×                    ∘   ×             ⍞000D                               ┌─┴─┐                       ┌─┴─┐               ⍞000D                               ↑   ⍨                       ↑   ⍨               ⍞000D                                ┌──┘                           │               ⍞000D                                ∘                              ∘               ⍞000D                      ┌─────────┴─────────┐           ┌────────┴────────┐      ⍞000D                      ⍨                   ⍨           ⍨                 ⍨      ⍞000D                   ┌──┘                ┌──┘           │                 │      ⍞000D                   ∘                   ∘              ∘                 ∘      ⍞000D                 ┌─┴─┐              ┌──┴──┐         ┌─┴─┐            ┌──┴──┐   ⍞000D                 ,   ⍨              ⍨     ∘         ,   ⍨            ⍨     ∘   ⍞000D                  ┌──┘           ┌──┘   ┌─┴─┐           │            │   ┌─┴─┐ ⍞000D                  ∘              ∘      2   |           ∘            ∘   2   | ⍞000D               ┌──┴───┐        ┌─┴─┐               ┌────┴────┐     ┌─┴─┐       ⍞000D               ⍨      ∘        +   ⍨               ⍨         ∘     +   ⍨       ⍞000D            ┌──┘    ┌─┴─┐       ┌──┘               │       ┌─┴─┐       │       ⍞000D            ∘       ∘   ⍳       ∘                  ∘       ∘   ⍳       ∘       ⍞000D          ┌─┴─┐   ┌─┴─┐      ┌──┴──┐             ┌─┴─┐   ┌─┴─┐      ┌──┴──┐    ⍞000D          /   ⍨   2   /      ⍨     ∘             /   ⍨   2   /      ⍨     ∘    ⍞000D           ┌──┘           ┌──┘   ┌─┴─┐               │              │   ┌─┴─┐  ⍞000D           ∘              ∘      1   +               ∘              ∘   1   +  ⍞000D        ┌──┴──┐       ┌───┴───┐                   ┌──┴──┐       ┌───┴───┐      ⍞000D        ⍨     ∘       ∘       ∘                   ⍨     ∘       ∘       ∘      ⍞000D     ┌──┘   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐                 │   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐    ⍞000D     ∘      2   ×   ×   ⌊   ÷   2                 ∘   2   ×   ×   ⌊   ÷   2    ⍞000D   ┌─┴─┐                                        ┌─┴─┐                          ⍞000D   ⍴   ∘                                        ⍴   ∘                          ⍞000D   ┌───┴────┐                                    ┌──┴──┐                       ⍞000D   ∘        ⍨                                    ∘     ⍨                       ⍞000D ┌─┴─┐   ┌──┘                                  ┌─┴─┐   │                       ⍞000D 1   ,   ∘                                     1   ,   ∘                       ⍞000D       ┌─┴─┐                                         ┌─┴─┐                     ⍞000D       ⍨   -                                         ⍨   -                     ⍞000D    ┌──┘                                             │                         ⍞000D    ∘                                                ∘                         ⍞000D  ┌─┴─┐                                            ┌─┴─┐                       ⍞000D  ,   ∘                                            ,   ∘                       ⍞000D    ┌─┴──┐                                           ┌─┴──┐                    ⍞000D    ¯1   ,                                           ¯1   ,                    ⍞000D⍞000D⍝ Dfn for distinct solutions of N-queens problem:⍞000D⍞000D    queens←{                            ⍝ N-queens problem.⍞000D        atk←{↑(⊂⍵)+↓¯1 0 1∘.×⌽⍳⍴⍵}      ⍝ attack⍞000D        nxt←{(⍳⍺)~atk ⍵}                ⍝ next row⍞000D        nxts←{(⊂⊃⌽⍵),¨(⊃⍵)nxt⊃⌽⍵}       ⍝ possible next rows⍞000D        red←{(⊃⍵),⊂⊃,/nxts¨(⊃⍵),∘⊂¨⊃⌽⍵} ⍝ reduction⍞000D        q←{⊃⌽↑red/(⍳⍵),⊂⍵,⊂⊂⍳0}         ⍝ general ⍵-queens problem⍞000D        rot4←{(⊢∘⍒)\4/⊂⍵}               ⍝ fn: 4 rotations⍞000D        tps2←{(⊢∘⍋)\2/⊂⍵}               ⍝ fn: 2 transpositions⍞000D        ord←{⍒↑,↑tps2¨rot4 ⍵}           ⍝ fn: order of permutations⍞000D        best←{1=⊃ord ⍵}                 ⍝ fn: transformation is "best"⍞000D        fmt←{⍵∘.=⍳⍴⍵}                   ⍝ format of complete solution⍞000D        nq←{fmt¨(best¨⍵)/⍵}∘q           ⍝ distinct solutions.⍞000D        nq ⍵⍞000D    }⍞000D⍞000D    disp queens 5                       ⍝ 5-queens: distinct solutions.⍞000D┌─────────┬─────────┐⍞000D│0 0 0 1 0│0 0 0 0 1│⍞000D│1 0 0 0 0│0 0 1 0 0│⍞000D│0 0 1 0 0│1 0 0 0 0│⍞000D│0 0 0 0 1│0 0 0 1 0│⍞000D│0 1 0 0 0│0 1 0 0 0│⍞000D└─────────┴─────────┘⍞000D⍞000D⍝ Equivalent derived function coding:⍞000D⍞000D⍞000D    atk  ← ↑∘(+∘↓∘(¯1 0 1∘(∘.×)∘⌽∘⍳∘⍴)⍨∘⊂⍨)             ⍝ attack⍞000D    nxt  ← ~∘atk⍨∘⍳⍨                                    ⍝ next row⍞000D    nxts ← ,¨∘(nxt∘⊃∘⌽⍨∘⊃⍨)⍨∘⊂∘⊃∘⌽⍨                     ⍝ possible next rows⍞000D    red  ← ⊢∘(,∘⊂∘⊃∘(,/)∘(nxts¨)∘(,∘⊂¨∘⊃∘⌽⍨∘⊃⍨)⍨∘⊃⍨)    ⍝ reduction⍞000D    rot4 ← ⊢∘⍒\∘(4∘/)∘⊂                                 ⍝ fn: 4 rotations⍞000D    tps2 ← ⊢∘⍋\∘(2∘/)∘⊂                                 ⍝ fn: 2 transpositions⍞000D    ord  ← ⍒∘↑∘,∘↑∘(tps2¨)∘rot4                         ⍝ fn: order of perms⍞000D    best ← 1∘=∘⊃∘ord                                    ⍝ fn: perm is "best"⍞000D    fmt  ← ∘.=∘⍳∘⍴⍨                                     ⍝ format of solution⍞000D    q    ← ⊃∘⌽∘↑∘(red/)∘(,∘⊂∘(,∘⊂∘⊂∘⍳∘(0∘⊣)⍨)⍨∘⍳⍨)      ⍝ general ⍵-queens prob⍞000D    nq   ← fmt¨∘((/⍨)∘(best¨)⍨)∘q                       ⍝ distinct solutions.⍞000D⍞000D    disp nq 5                           ⍝ 5-queens: distinct solutions.⍞000D┌─────────┬─────────┐⍞000D│0 0 0 1 0│0 0 0 0 1│⍞000D│1 0 0 0 0│0 0 1 0 0│⍞000D│0 0 1 0 0│1 0 0 0 0│⍞000D│0 0 0 0 1│0 0 0 1 0│⍞000D│0 1 0 0 0│0 1 0 0 0│⍞000D└─────────┴─────────┘⍞000D⍞000D    nq dft 3                            ⍝ N-queens: derived fn tree⍞000D                                              ∘                                           ⍞000D                ┌─────────────────────────────┴─────────────────────────────┐             ⍞000D                ∘                                                           ∘             ⍞000D            ┌───┴────┐                                          ┌───────────┴────────────┐⍞000D            ¨        ⍨                                          ∘                        ⍨⍞000D         ┌──┘     ┌──┘                                      ┌───┴────┐                ┌──┘⍞000D         ⍨        ∘                                         ∘        /                ∘   ⍞000D      ┌──┘     ┌──┴───┐                                   ┌─┴─┐   ┌──┘              ┌─┴─┐ ⍞000D      ∘        ⍨      ¨                                   ∘   ↑   ∘                 ⍨   ⍳ ⍞000D    ┌─┴─┐   ┌──┘   ┌──┘                                 ┌─┴─┐   ┌─┴─┐            ┌──┘     ⍞000D    ∘   ⍴   /      ∘                                    ⊃   ⌽   ⊢   ⍨            ∘        ⍞000D  ┌─┴─┐    ┌───────┴────────┐                                    ┌──┘        ┌───┴────┐   ⍞000D  .   ⍳    ∘                ∘                                    ∘           ∘        ⍨   ⍞000D┌─┴─┐    ┌─┴─┐      ┌───────┴────────┐                         ┌─┴─┐       ┌─┴─┐   ┌──┘   ⍞000D∘   =    ∘   ⊃      ∘                ∘                         ⍨   ⊃       ,   ⊂   ∘      ⍞000D       ┌─┴─┐   ┌────┴────┐         ┌─┴─┐                    ┌──┘               ┌───┴───┐  ⍞000D       1   =   ∘         ¨         ∘   ⊂                    ∘                  ∘       ∘  ⍞000D             ┌─┴─┐    ┌──┘      ┌──┴──┐            ┌────────┴─────────┐      ┌─┴─┐   ┌─┴─┐⍞000D             ∘   ↑    ∘         \     ∘            ∘                  ⍨      ∘   ⍳   0   ⊣⍞000D           ┌─┴─┐    ┌─┴─┐    ┌──┘   ┌─┴─┐   ┌──────┴───────┐       ┌──┘    ┌─┴─┐          ⍞000D           ∘   ,    ∘   ⊂    ∘      4   /   ∘              ¨       ∘       ∘   ⊂          ⍞000D         ┌─┴─┐   ┌──┴──┐   ┌─┴─┐        ┌───┴────┐      ┌──┘     ┌─┴─┐   ┌─┴─┐            ⍞000D         ⍒   ↑   \     ∘   ⊢   ⍒        ∘        /      ⍨        ⍨   ⊃   ,   ⊂            ⍞000D              ┌──┘   ┌─┴─┐            ┌─┴─┐   ┌──┘   ┌──┘     ┌──┘                        ⍞000D              ∘      2   /            ∘   ⊃   ,      ∘        ∘                           ⍞000D            ┌─┴─┐                   ┌─┴─┐          ┌─┴─┐    ┌─┴─┐                         ⍞000D            ⊢   ⍋                   ,   ⊂          ∘   ⌽    ∘   ⌽                         ⍞000D                                                 ┌─┴─┐    ┌─┴─┐                           ⍞000D                                                 ∘   ⊃    ¨   ⊃                           ⍞000D                                               ┌─┴─┐   ┌──┘                               ⍞000D                                               ⍨   ⊂   ∘                                  ⍞000D                                            ┌──┘     ┌─┴─┐                                ⍞000D                                            ∘        ,   ⊂                                ⍞000D                                         ┌──┴───┐                                         ⍞000D                                         ¨      ⍨                                         ⍞000D                                      ┌──┘   ┌──┘                                         ⍞000D                                      ,      ∘                                            ⍞000D                                           ┌─┴─┐                                          ⍞000D                                           ⍨   ⊃                                          ⍞000D                                        ┌──┘                                              ⍞000D                                        ∘                                                 ⍞000D                                      ┌─┴─┐                                               ⍞000D                                      ∘   ⌽                                               ⍞000D                                    ┌─┴─┐                                                 ⍞000D                                    ⍨   ⊃                                                 ⍞000D                                 ┌──┘                                                     ⍞000D                                 ∘                                                        ⍞000D                               ┌─┴─┐                                                      ⍞000D                               ⍨   ⍳                                                      ⍞000D                            ┌──┘                                                          ⍞000D                            ∘                                                             ⍞000D                          ┌─┴─┐                                                           ⍞000D                          ~   ∘                                                           ⍞000D                            ┌─┴─┐                                                         ⍞000D                            ↑   ⍨                                                         ⍞000D                             ┌──┘                                                         ⍞000D                             ∘                                                            ⍞000D                           ┌─┴─┐                                                          ⍞000D                           ⍨   ⊂                                                          ⍞000D                        ┌──┘                                                              ⍞000D                        ∘                                                                 ⍞000D                    ┌───┴───┐                                                             ⍞000D                    ∘       ∘                                                             ⍞000D                  ┌─┴─┐   ┌─┴─┐                                                           ⍞000D                  +   ↓   ∘   ⍴                                                           ⍞000D                        ┌─┴─┐                                                             ⍞000D                        ∘   ⍳                                                             ⍞000D                      ┌─┴─┐                                                               ⍞000D                      ∘   ⌽                                                               ⍞000D                  ┌───┴────┐                                                              ⍞000D                  ¯1·0·1   .                                                              ⍞000D                         ┌─┴─┐                                                            ⍞000D                         ∘   ×                                                            ⍞000D⍞000D⍝ Notice how derived function [nq] consists entirely of:⍞000D⍝ - primitive functions and operators, together with⍞000D⍝ - ⊣ and ⊢ and⍞000D⍝ - the literal values ¯1 0 1, 4, 2 and 0.⍞000D⍝⍞000D⍝ These literal values could also be replaced with expressions of primitive⍞000D⍝ functions: for example 2/⊂⍵ could be recast:⍞000D⍝⍞000D⍝   2/⊂⍵ → (≡⊂⍵)/⊂⍵ → /∘⊂⍨∘≡∘⊂⍨⍵⍞000D⍝⍞000D⍝ Similarly:⍞000D⍝⍞000D⍝      ⍴⍴⊂⍵ →  0⍞000D⍝        ≡⍵ →  1⍞000D⍝       ≡⊂⍵ →  2⍞000D⍝     ≡⊂⊂⊂⍵ →  4⍞000D⍝⍞000D⍝ This means that,in extremis, distinct solutions of the N-queens problem may be⍞000D⍝ expressed as a function derived solely from primitive functions and operators.⍞000D⍝⍞000D⍝   k101 ← ⊢∘(-∘≡∘⊂⍨∘⍳∘≡∘⊂∘⊂⍨)                       ⍝ k101 ⍵ → ¯1 0 1⍞000D⍝   k0   ← ⍴∘⍴∘⊂                                     ⍝   k0 ⍵ → 0⍞000D⍝   k1   ← ≡                                         ⍝   k1 ⍵ → 1⍞000D⍝   k2   ← ≡∘⊂                                       ⍝   k2 ⍵ → 2⍞000D⍝   k4   ← ≡∘⊂∘⊂∘⊂                                   ⍝   k4 ⍵ → 4⍞000D⍝   atk  ← ↑∘(+∘↓∘(∘.×∘⌽∘⍳∘⍴⍨∘k101⍨)⍨∘⊂⍨)            ⍝ attack⍞000D⍝   nxt  ← ~∘atk⍨∘⍳⍨                                 ⍝ next row⍞000D⍝   nxts ← ,¨∘(nxt∘⊃∘⌽⍨∘⊃⍨)⍨∘⊂∘⊃∘⌽⍨                  ⍝ possible next rows⍞000D⍝   red  ← ⊢∘(,∘⊂∘⊃∘(,/)∘(nxts¨)∘(,∘⊂¨∘⊃∘⌽⍨∘⊃⍨)⍨∘⊃⍨) ⍝ reduction⍞000D⍝   rot4 ← ⊢∘⍒\∘(/∘⊂⍨∘k4⍨)                           ⍝ 4 rotations⍞000D⍝   tps2 ← ⊢∘⍋\∘(/∘⊂⍨∘k2⍨)                           ⍝ 2 transpositions⍞000D⍝   ord  ← ⍒∘↑∘,∘↑∘(tps2¨)∘rot4                      ⍝ order of permutations⍞000D⍝   best ← =∘⊃∘ord⍨∘k1⍨                              ⍝ transformation is "best"⍞000D⍝   fmt  ← ∘.=∘⍳∘⍴⍨                                  ⍝ format of solutions⍞000D⍝   q    ← ⊃∘⌽∘↑∘(red/)∘(,∘⊂∘(,∘⊂∘⊂∘⍳∘k0⍨)⍨∘⍳⍨)      ⍝ general ⍵-queens problem⍞000D⍝   nq   ← fmt¨∘((/⍨)∘(best¨)⍨)∘q                    ⍝ distinct solutions.⍞000D⍝⍞000D⍝   nq dft 5   ⍝ V13 primitive fn/op only version:⍞000D⍝                                                  ∘⍞000D⍝                  ┌───────────────────────────────┴───────────────────────────────┐⍞000D⍝                  ∘                                                               ∘⍞000D⍝              ┌───┴────┐                                              ┌───────────┴───────────┐⍞000D⍝              ¨        ⍨                                              ∘                       ⍨⍞000D⍝            ┌─┘      ┌─┘                                          ┌───┴───┐                 ┌─┘⍞000D⍝            ⍨        ∘                                            ∘       /                 ∘⍞000D⍝          ┌─┘     ┌──┴──┐                                       ┌─┴─┐   ┌─┘               ┌─┴─┐⍞000D⍝          ∘       ⍨     ¨                                       ∘   ↑   ∘                 ⍨   ⍳⍞000D⍝        ┌─┴─┐   ┌─┘   ┌─┘                                     ┌─┴─┐   ┌─┴─┐             ┌─┘⍞000D⍝        ∘   ⍴   /     ⍨                                       ⊃   ⌽   ⊢   ⍨             ∘⍞000D⍝      ┌─┴─┐         ┌─┘                                                 ┌─┘         ┌───┴───┐⍞000D⍝      .   ⍳         ∘                                                   ∘           ∘       ⍨⍞000D⍝    ┌─┴─┐         ┌─┴─┐                                               ┌─┴─┐       ┌─┴─┐   ┌─┘⍞000D⍝    ∘   =         ⍨   ≡                                               ⍨   ⊃       ,   ⊂   ∘⍞000D⍝                ┌─┘                                                 ┌─┘               ┌───┴───┐⍞000D⍝                ∘                                                   ∘                 ∘       ∘⍞000D⍝        ┌───────┴───────┐                                   ┌───────┴───────┐       ┌─┴─┐   ┌─┴─┐⍞000D⍝        ∘               ∘                                   ∘               ⍨       ∘   ⍳   ∘   ⊂⍞000D⍝      ┌─┴─┐   ┌─────────┴──────────┐                  ┌─────┴─────┐       ┌─┘     ┌─┴─┐   ┌─┴─┐⍞000D⍝      =   ⊃   ∘                    ∘                  ∘           ¨       ∘       ∘   ⊂   ⍴   ⍴⍞000D⍝         ┌────┴────┐          ┌────┴────┐         ┌───┴───┐     ┌─┘     ┌─┴─┐   ┌─┴─┐⍞000D⍝         ∘         ¨          \         ⍨         ∘       /     ⍨       ⍨   ⊃   ,   ⊂⍞000D⍝       ┌─┴─┐     ┌─┘        ┌─┘       ┌─┘       ┌─┴─┐   ┌─┘   ┌─┘     ┌─┘⍞000D⍝       ∘   ↑     ∘          ∘         ∘         ∘   ⊃   ,     ∘       ∘⍞000D⍝     ┌─┴─┐   ┌───┴────┐   ┌─┴─┐   ┌───┴───┐   ┌─┴─┐         ┌─┴─┐   ┌─┴─┐⍞000D⍝     ∘   ,   \        ⍨   ⊢   ⍒   ⍨       ∘   ,   ⊂         ∘   ⌽   ∘   ⌽⍞000D⍝   ┌─┴─┐   ┌─┘      ┌─┘         ┌─┘     ┌─┴─┐             ┌─┴─┐   ┌─┴─┐⍞000D⍝   ⍒   ↑   ∘        ∘           ∘       ∘   ⊂             ∘   ⊃   ¨   ⊃⍞000D⍝         ┌─┴─┐   ┌──┴──┐      ┌─┴─┐   ┌─┴─┐             ┌─┴─┐   ┌─┘⍞000D⍝         ⊢   ⍋   ⍨     ∘      /   ⊂   ∘   ⊂             ⍨   ⊂   ∘⍞000D⍝               ┌─┘   ┌─┴─┐          ┌─┴─┐             ┌─┘     ┌─┴─┐⍞000D⍝               ∘     ≡   ⊂          ≡   ⊂             ∘       ,   ⊂⍞000D⍝             ┌─┴─┐                                 ┌──┴──┐⍞000D⍝             /   ⊂                                 ¨     ⍨⍞000D⍝                                                 ┌─┘   ┌─┘⍞000D⍝                                                 ,     ∘⍞000D⍝                                                     ┌─┴─┐⍞000D⍝                                                     ⍨   ⊃⍞000D⍝                                                   ┌─┘⍞000D⍝                                                   ∘⍞000D⍝                                                 ┌─┴─┐⍞000D⍝                                                 ∘   ⌽⍞000D⍝                                               ┌─┴─┐⍞000D⍝                                               ⍨   ⊃⍞000D⍝                                             ┌─┘⍞000D⍝                                             ∘⍞000D⍝                                           ┌─┴─┐⍞000D⍝                                           ⍨   ⍳⍞000D⍝                                         ┌─┘⍞000D⍝                                         ∘⍞000D⍝                                       ┌─┴─┐⍞000D⍝                                       ~   ∘⍞000D⍝                                         ┌─┴─┐⍞000D⍝                                         ↑   ⍨⍞000D⍝                                           ┌─┘⍞000D⍝                                           ∘⍞000D⍝                                         ┌─┴─┐⍞000D⍝                                         ⍨   ⊂⍞000D⍝                                       ┌─┘⍞000D⍝                                       ∘⍞000D⍝                                   ┌───┴───┐⍞000D⍝                                   ∘       ⍨⍞000D⍝                                 ┌─┴─┐   ┌─┘⍞000D⍝                                 +   ↓   ∘⍞000D⍝                                      ┌──┴──┐⍞000D⍝                                      ⍨     ∘⍞000D⍝                                    ┌─┘   ┌─┴─┐⍞000D⍝                                    ∘     ⊢   ⍨⍞000D⍝                                  ┌─┴─┐     ┌─┘⍞000D⍝                                  ∘   ⍴     ∘⍞000D⍝                                ┌─┴─┐     ┌─┴─┐⍞000D⍝                                ∘   ⍳     ∘   ⊂⍞000D⍝                              ┌─┴─┐     ┌─┴─┐⍞000D⍝                              .   ⌽     ∘   ⊂⍞000D⍝                            ┌─┴─┐     ┌─┴─┐⍞000D⍝                            ∘   ×     ∘   ≡⍞000D⍝                                    ┌─┴─┐⍞000D⍝                                    ⍨   ⍳⍞000D⍝                                  ┌─┘⍞000D⍝                                  ∘⍞000D⍝                                ┌─┴─┐⍞000D⍝                                ∘   ⊂⍞000D⍝                              ┌─┴─┐⍞000D⍝                              -   ≡' 
