'⍝ ⍺⍺-rational sum of ⍺ and ⍵:⍞000D⍝⍞000D⍝ Here''s a handy little amuse gueule to convert⍞000D⍝ an array of regular integers into ⍺-numbers:⍞000D⍞000D    encode←{⎕IO ⎕ML←0                           ⍝ ⍺-encode of int array ⍵.⍞000D        u←(2⊥''0''=2↑¯1⌽⍺)⊃0 1 ¯1                 ⍝ extremal ''0'': unsigned.⍞000D        (|u)∧u∊-×⍵:((0>u××⍵)/¨''¯''),¨⍺ ∇ u×|⍵    ⍝ explicit ''¯'', where needed.⍞000D        min←⍺⍳''0''                               ⍝ - minimum value.⍞000D        width←1+⌈(⍴⍺)⍟⌈/1⌈,|⍵                   ⍝ upper bound for no of digits.⍞000D        base←width/⍴⍺                           ⍝ encode/decode vector.⍞000D        vals←-min-base⊤base⊥min+base⊤⍉⍵         ⍝ base-⍺ integers.⍞000D        nlz←{(-1⌈+/∨\⍵≠''0'')↑⍵}                  ⍝ without surplus leading zeros.⍞000D        nlz¨↓⍺[min+⍉vals]                       ⍝ array of ⍺-numbers.⍞000D    }⍞000D⍞000D    disp ⎕d encode ¯9 to 10                     ⍝ decimal ¯9..10⍞000D┌──┬──┬──┬──┬──┬──┬──┬──┬──┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬──┐⍞000D│¯9│¯8│¯7│¯6│¯5│¯4│¯3│¯2│¯1│0│1│2│3│4│5│6│7│8│9│10│⍞000D└──┴──┴──┴──┴──┴──┴──┴──┴──┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴──┘⍞000D⍞000D    disp ''-0+''encode ¯9 to 10                   ⍝ balanced ternary ¯9..10⍞000D┌───┬───┬───┬───┬───┬──┬──┬──┬─┬─┬─┬──┬──┬──┬───┬───┬───┬───┬───┬───┐⍞000D│-00│-0+│-+-│-+0│-++│--│-0│-+│-│0│+│+-│+0│++│+--│+-0│+-+│+0-│+00│+0+│⍞000D└───┴───┴───┴───┴───┴──┴──┴──┴─┴─┴─┴──┴──┴──┴───┴───┴───┴───┴───┴───┘⍞000D⍞000D    enc←{                                       ⍝ E-encode of simple number.⍞000D        ⍺{                                      ⍝ ⍺ is base.⍞000D            ''¯''=⊃⍵:⍺ ratsum ∇ 1↓⍵               ⍝ absorb neg sign.⍞000D            ''<0|'',⍵,''|0>''                       ⍝ RU-wrap of number.⍞000D        }⍕⍵                                     ⍝ format if numeric.⍞000D    }                                           ⍝ :: lmr ← base ∇ num⍞000D⍞000D    dec←{                                       ⍝ decode of E-number.⍞000D        ''<0||0>''≡3⌽6↑¯3⌽⍵:3↓¯3↓⍵                ⍝ null RUs: simple number.⍞000D        ''<0|''≡3↑⍵:⍵                             ⍝ null LRU: done.⍞000D        c0←(⍺⍳''0'')⊃⌽⍺                           ⍝ complement of 0.⍞000D        (''<'',c0,''|'')≡3↑⍵:''¯'',∇ ⍺ ratsum ⍵       ⍝ ..99 → ¯complement.⍞000D        ⍵                                       ⍝ otherwise dump raw number.⍞000D    }                                           ⍝ :: num ← base ∇ lmr⍞000D⍞000D    table←{                                     ⍝ addition table.⍞000D        ⍺∘dec¨∘.(⍺ ratsum)⍨ ⍺∘enc¨⍺ encode ⍵    ⍝⍞000D    }                                           ⍝ ::⍞000D⍞000D    clru←{⍵∘dec∘neg∘(⍵∘enc)¨⍵∘.,⍵}              ⍝ check lru-clearing.⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Decimal⍞000D⍞000D    base ← ''0123456789''                 ⍝ regular decimal.⍞000D⍞000D    sum ← neg ← base ratsum             ⍝ derived sum and negation functions.⍞000D⍞000D    ''<0|234|0>''sum''<0|567|0>''           ⍝ decimal: 234 + 567 → 801⍞000D<0|801|0>⍞000D⍞000D    ↑sum/base∘enc¨base                  ⍝ 0+1+2+3+4+5+6+7+8+9⍞000D<0|45|0>⍞000D⍞000D    ''<12|0|123>''sum''<123|0|12>''         ⍝ check internal replication of RUs.⍞000D<9|7|800982>⍞000D⍞000D    ''<0|123.95|0>''sum''<0|4|3>''          ⍝ LeRoy''s first example.⍞000D<0|128.28|3>⍞000D⍞000D    ''<0|92|34>''sum''<0|8.6|1>''           ⍝ LeRoy''s (carry-out from RRU) example.⍞000D<0|100.9|54>⍞000D⍞000D    ''<0|92|34>''sum neg''<0|8.6|1>''       ⍝ LeRoy''s (subtraction) example.⍞000D<0|83.7|32>⍞000D⍞000D    ''<0|92|34>''sum    ''<9|1.3|8>''       ⍝ ditto with explicit complement.⍞000D<0|83.7|32>⍞000D⍞000D    ''<8999|5|0>''sum''<0|5|0>''            ⍝ test overflow into lru.⍞000D<0|1|0001>⍞000D⍞000D   ''<12|3|456>''sum''<123|4|56>''          ⍝ lru-clearing example.⍞000D<0|5|578760>⍞000D⍞000D    ''<0|0|0>''sum''<0|4|9>''               ⍝ 4.999... → 5⍞000D<0|5|0>⍞000D⍞000D    ''<0|0|0>''sum''<0|98.3|9>''            ⍝ 98.3999... → 98.4⍞000D<0|98.4|0>⍞000D⍞000D    neg''<0|1|0>''                        ⍝ decimal ¯1⍞000D<9|9|0>⍞000D⍞000D    neg neg''<0|1|0>''                    ⍝ round-trip negative qualifier.⍞000D<0|1|0>⍞000D⍞000D    ''<0|1234|0>''sum neg''<0|1234|0>''     ⍝ 0=⍵+-⍵⍞000D<0|0|0>⍞000D⍞000D    disp base table ¯5 to 5             ⍝ decimal addition table ¯5..5⍞000D┌───┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┐⍞000D│¯10│¯9│¯8│¯7│¯6│¯5│¯4│¯3│¯2│¯1│0 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯9 │¯8│¯7│¯6│¯5│¯4│¯3│¯2│¯1│0 │1 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯8 │¯7│¯6│¯5│¯4│¯3│¯2│¯1│0 │1 │2 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯7 │¯6│¯5│¯4│¯3│¯2│¯1│0 │1 │2 │3 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯6 │¯5│¯4│¯3│¯2│¯1│0 │1 │2 │3 │4 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯5 │¯4│¯3│¯2│¯1│0 │1 │2 │3 │4 │5 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯4 │¯3│¯2│¯1│0 │1 │2 │3 │4 │5 │6 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯3 │¯2│¯1│0 │1 │2 │3 │4 │5 │6 │7 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯2 │¯1│0 │1 │2 │3 │4 │5 │6 │7 │8 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│¯1 │0 │1 │2 │3 │4 │5 │6 │7 │8 │9 │⍞000D├───┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤⍞000D│0  │1 │2 │3 │4 │5 │6 │7 │8 │9 │10│⍞000D└───┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┘⍞000D⍞000D    disp clru base                      ⍝ check LRU-clearing.⍞000D┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐⍞000D│0  │¯1 │¯2 │¯3 │¯4 │¯5 │¯6 │¯7 │¯8 │¯9 │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯10│¯11│¯12│¯13│¯14│¯15│¯16│¯17│¯18│¯19│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯20│¯21│¯22│¯23│¯24│¯25│¯26│¯27│¯28│¯29│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯30│¯31│¯32│¯33│¯34│¯35│¯36│¯37│¯38│¯39│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯40│¯41│¯42│¯43│¯44│¯45│¯46│¯47│¯48│¯49│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯50│¯51│¯52│¯53│¯54│¯55│¯56│¯57│¯58│¯59│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯60│¯61│¯62│¯63│¯64│¯65│¯66│¯67│¯68│¯69│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯70│¯71│¯72│¯73│¯74│¯75│¯76│¯77│¯78│¯79│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯80│¯81│¯82│¯83│¯84│¯85│¯86│¯87│¯88│¯89│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│¯90│¯91│¯92│¯93│¯94│¯95│¯96│¯97│¯98│¯99│⍞000D└───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Balanced Ternary⍞000D⍞000D    base ← ''-0+''                        ⍝ balanced ternary.⍞000D⍞000D    sum  ← neg ← base ratsum            ⍝ derived sum and neg functions.⍞000D⍞000D    ''<0|+--|0>''sum''<0|+-+|0>''           ⍝ 5 + 7 → 12⍞000D<0|++0|0>⍞000D⍞000D    ''<0|-|0>''sum''<0|---|0>''             ⍝ ¯1 + ¯13 → ¯14⍞000D<0|-+++|0>⍞000D⍞000D    hlvs←''<-|-|0>'' ''<0|0|+>'' ''<0|+|->''  ⍝ three representations of one half.⍞000D⍞000D    hlvs ∘.sum hlvs                     ⍝ half + half → 1⍞000D <0|+|0>  <0|+|0>  <0|+|0> ⍞000D <0|+|0>  <0|+|0>  <0|+|0> ⍞000D <0|+|0>  <0|+|0>  <0|+|0> ⍞000D⍞000D    ''<-0|+|+>''sum''<-+|0|+>''             ⍝ LeRoy''s example.⍞000D<0|++|0->⍞000D⍞000D    disp base table ¯6 to 6             ⍝ balanced ternary addition table ¯6..6⍞000D┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐⍞000D│--0│--+│-0-│-00│-0+│-+-│-+0│-++│-- │-0 │-+ │-  │0  │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│--+│-0-│-00│-0+│-+-│-+0│-++│-- │-0 │-+ │-  │0  │+  │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-0-│-00│-0+│-+-│-+0│-++│-- │-0 │-+ │-  │0  │+  │+- │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-00│-0+│-+-│-+0│-++│-- │-0 │-+ │-  │0  │+  │+- │+0 │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-0+│-+-│-+0│-++│-- │-0 │-+ │-  │0  │+  │+- │+0 │++ │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-+-│-+0│-++│-- │-0 │-+ │-  │0  │+  │+- │+0 │++ │+--│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-+0│-++│-- │-0 │-+ │-  │0  │+  │+- │+0 │++ │+--│+-0│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-++│-- │-0 │-+ │-  │0  │+  │+- │+0 │++ │+--│+-0│+-+│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-- │-0 │-+ │-  │0  │+  │+- │+0 │++ │+--│+-0│+-+│+0-│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-0 │-+ │-  │0  │+  │+- │+0 │++ │+--│+-0│+-+│+0-│+00│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-+ │-  │0  │+  │+- │+0 │++ │+--│+-0│+-+│+0-│+00│+0+│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-  │0  │+  │+- │+0 │++ │+--│+-0│+-+│+0-│+00│+0+│++-│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼───┤⍞000D│0  │+  │+- │+0 │++ │+--│+-0│+-+│+0-│+00│+0+│++-│++0│⍞000D└───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘⍞000D⍞000D    disp clru base                      ⍝ check LRU clearing.⍞000D┌──┬──┬──┐⍞000D│++│+0│+-│⍞000D├──┼──┼──┤⍞000D│+ │0 │- │⍞000D├──┼──┼──┤⍞000D│-+│-0│--│⍞000D└──┴──┴──┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Binary⍞000D⍞000D    base ← ''01''                         ⍝ regular binary.⍞000D⍞000D    sum ← neg ← base ratsum             ⍝ derived sum and negation functions.⍞000D⍞000D    disp base table ¯4 to 4             ⍝ addition table ¯4..4⍞000D┌─────┬────┬────┬────┬────┬───┬───┬───┬────┐⍞000D│¯1000│¯111│¯110│¯101│¯100│¯11│¯10│¯1 │0   │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│¯111 │¯110│¯101│¯100│¯11 │¯10│¯1 │0  │1   │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│¯110 │¯101│¯100│¯11 │¯10 │¯1 │0  │1  │10  │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│¯101 │¯100│¯11 │¯10 │¯1  │0  │1  │10 │11  │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│¯100 │¯11 │¯10 │¯1  │0   │1  │10 │11 │100 │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│¯11  │¯10 │¯1  │0   │1   │10 │11 │100│101 │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│¯10  │¯1  │0   │1   │10  │11 │100│101│110 │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│¯1   │0   │1   │10  │11  │100│101│110│111 │⍞000D├─────┼────┼────┼────┼────┼───┼───┼───┼────┤⍞000D│0    │1   │10  │11  │100 │101│110│111│1000│⍞000D└─────┴────┴────┴────┴────┴───┴───┴───┴────┘⍞000D⍞000D    disp clru base                      ⍝ check LRU clearing.⍞000D┌───┬───┐⍞000D│0  │¯1 │⍞000D├───┼───┤⍞000D│¯10│¯11│⍞000D└───┴───┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Skewed fours⍞000D⍞000D    base ← ''-0+#''               ⍝ positively-skewed four ("#" is double-plus).⍞000D⍞000D    sum  ← neg ← base ratsum    ⍝ derived sum and negation functions.⍞000D⍞000D    disp base table ¯6 to 6     ⍝ addition table ¯6..6⍞000D┌───┬───┬───┬───┬───┬───┬───┬──┬──┬──┬──┬───┬───┐⍞000D│-+0│-++│-+#│-#-│-#0│-#+│-##│--│-0│-+│-#│-  │0  │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-++│-+#│-#-│-#0│-#+│-##│-- │-0│-+│-#│- │0  │+  │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-+#│-#-│-#0│-#+│-##│-- │-0 │-+│-#│- │0 │+  │#  │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-#-│-#0│-#+│-##│-- │-0 │-+ │-#│- │0 │+ │#  │+- │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-#0│-#+│-##│-- │-0 │-+ │-# │- │0 │+ │# │+- │+0 │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-#+│-##│-- │-0 │-+ │-# │-  │0 │+ │# │+-│+0 │++ │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-##│-- │-0 │-+ │-# │-  │0  │+ │# │+-│+0│++ │+# │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-- │-0 │-+ │-# │-  │0  │+  │# │+-│+0│++│+# │#- │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-0 │-+ │-# │-  │0  │+  │#  │+-│+0│++│+#│#- │#0 │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-+ │-# │-  │0  │+  │#  │+- │+0│++│+#│#-│#0 │#+ │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-# │-  │0  │+  │#  │+- │+0 │++│+#│#-│#0│#+ │## │⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│-  │0  │+  │#  │+- │+0 │++ │+#│#-│#0│#+│## │+--│⍞000D├───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼───┼───┤⍞000D│0  │+  │#  │+- │+0 │++ │+# │#-│#0│#+│##│+--│+-0│⍞000D└───┴───┴───┴───┴───┴───┴───┴──┴──┴──┴──┴───┴───┘⍞000D⍞000D    disp clru base                      ⍝ check LRU clearing.⍞000D┌───┬───┬───┬───┐⍞000D│++ │+0 │+- │#  │⍞000D├───┼───┼───┼───┤⍞000D│+  │0  │-  │-# │⍞000D├───┼───┼───┼───┤⍞000D│-+ │-0 │-- │-##│⍞000D├───┼───┼───┼───┤⍞000D│-#+│-#0│-#-│-+#│⍞000D└───┴───┴───┴───┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    base ← ''=-0+''               ⍝ negatively-skewed four ("=" is double-minus).⍞000D⍞000D    sum  ← neg ← base ratsum    ⍝ derived sum and negative functions.⍞000D⍞000D    disp base table ¯6 to 6     ⍝ addition table ¯6..6⍞000D┌───┬───┬──┬──┬──┬──┬───┬───┬───┬───┬───┬───┬───┐⍞000D│-+0│-++│==│=-│=0│=+│-= │-- │-0 │-+ │=  │-  │0  │⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-++│== │=-│=0│=+│-=│-- │-0 │-+ │=  │-  │0  │+  │⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│== │=- │=0│=+│-=│--│-0 │-+ │=  │-  │0  │+  │+= │⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│=- │=0 │=+│-=│--│-0│-+ │=  │-  │0  │+  │+= │+- │⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│=0 │=+ │-=│--│-0│-+│=  │-  │0  │+  │+= │+- │+0 │⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│=+ │-= │--│-0│-+│= │-  │0  │+  │+= │+- │+0 │++ │⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-= │-- │-0│-+│= │- │0  │+  │+= │+- │+0 │++ │+==│⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-- │-0 │-+│= │- │0 │+  │+= │+- │+0 │++ │+==│+=-│⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-0 │-+ │= │- │0 │+ │+= │+- │+0 │++ │+==│+=-│+=0│⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-+ │=  │- │0 │+ │+=│+- │+0 │++ │+==│+=-│+=0│+=+│⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│=  │-  │0 │+ │+=│+-│+0 │++ │+==│+=-│+=0│+=+│+-=│⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│-  │0  │+ │+=│+-│+0│++ │+==│+=-│+=0│+=+│+-=│+--│⍞000D├───┼───┼──┼──┼──┼──┼───┼───┼───┼───┼───┼───┼───┤⍞000D│0  │+  │+=│+-│+0│++│+==│+=-│+=0│+=+│+-=│+--│+-0│⍞000D└───┴───┴──┴──┴──┴──┴───┴───┴───┴───┴───┴───┴───┘⍞000D⍞000D    disp clru base                      ⍝ check LRU clearing.⍞000D┌───┬───┬───┬───┐⍞000D│+-=│+=+│+=0│+=-│⍞000D├───┼───┼───┼───┤⍞000D│+==│++ │+0 │+- │⍞000D├───┼───┼───┼───┤⍞000D│+= │+  │0  │-  │⍞000D├───┼───┼───┼───┤⍞000D│=  │-+ │-0 │-- │⍞000D└───┴───┴───┴───┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Pos-skewed five⍞000D⍞000D    base ← ''-0⌿≠≢''                      ⍝ Pos-skewed five (⌿ ≠ ≢  →  + ++ +++)⍞000D⍞000D    sum  ← neg ← base ratsum            ⍝ sum and negative functions. ⍞000D⍞000D    disp base table ¯8 to 8             ⍝ addition table ¯8..8 ⍞000D┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬──┬──┬──┬──┬──┬──┬──┐⍞000D│-≠-│-≠0│-≠⌿│-≠≠│-≠≢│-≢-│-≢0│-≢⌿│-≢≠│-≢≢│--│-0│-⌿│-≠│-≢│- │0 │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≠0│-≠⌿│-≠≠│-≠≢│-≢-│-≢0│-≢⌿│-≢≠│-≢≢│-- │-0│-⌿│-≠│-≢│- │0 │⌿ │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≠⌿│-≠≠│-≠≢│-≢-│-≢0│-≢⌿│-≢≠│-≢≢│-- │-0 │-⌿│-≠│-≢│- │0 │⌿ │≠ │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≠≠│-≠≢│-≢-│-≢0│-≢⌿│-≢≠│-≢≢│-- │-0 │-⌿ │-≠│-≢│- │0 │⌿ │≠ │≢ │⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≠≢│-≢-│-≢0│-≢⌿│-≢≠│-≢≢│-- │-0 │-⌿ │-≠ │-≢│- │0 │⌿ │≠ │≢ │⌿-│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≢-│-≢0│-≢⌿│-≢≠│-≢≢│-- │-0 │-⌿ │-≠ │-≢ │- │0 │⌿ │≠ │≢ │⌿-│⌿0│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≢0│-≢⌿│-≢≠│-≢≢│-- │-0 │-⌿ │-≠ │-≢ │-  │0 │⌿ │≠ │≢ │⌿-│⌿0│⌿⌿│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≢⌿│-≢≠│-≢≢│-- │-0 │-⌿ │-≠ │-≢ │-  │0  │⌿ │≠ │≢ │⌿-│⌿0│⌿⌿│⌿≠│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≢≠│-≢≢│-- │-0 │-⌿ │-≠ │-≢ │-  │0  │⌿  │≠ │≢ │⌿-│⌿0│⌿⌿│⌿≠│⌿≢│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≢≢│-- │-0 │-⌿ │-≠ │-≢ │-  │0  │⌿  │≠  │≢ │⌿-│⌿0│⌿⌿│⌿≠│⌿≢│≠-│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-- │-0 │-⌿ │-≠ │-≢ │-  │0  │⌿  │≠  │≢  │⌿-│⌿0│⌿⌿│⌿≠│⌿≢│≠-│≠0│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-0 │-⌿ │-≠ │-≢ │-  │0  │⌿  │≠  │≢  │⌿- │⌿0│⌿⌿│⌿≠│⌿≢│≠-│≠0│≠⌿│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-⌿ │-≠ │-≢ │-  │0  │⌿  │≠  │≢  │⌿- │⌿0 │⌿⌿│⌿≠│⌿≢│≠-│≠0│≠⌿│≠≠│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≠ │-≢ │-  │0  │⌿  │≠  │≢  │⌿- │⌿0 │⌿⌿ │⌿≠│⌿≢│≠-│≠0│≠⌿│≠≠│≠≢│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-≢ │-  │0  │⌿  │≠  │≢  │⌿- │⌿0 │⌿⌿ │⌿≠ │⌿≢│≠-│≠0│≠⌿│≠≠│≠≢│≢-│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│-  │0  │⌿  │≠  │≢  │⌿- │⌿0 │⌿⌿ │⌿≠ │⌿≢ │≠-│≠0│≠⌿│≠≠│≠≢│≢-│≢0│⍞000D├───┼───┼───┼───┼───┼───┼───┼───┼───┼───┼──┼──┼──┼──┼──┼──┼──┤⍞000D│0  │⌿  │≠  │≢  │⌿- │⌿0 │⌿⌿ │⌿≠ │⌿≢ │≠- │≠0│≠⌿│≠≠│≠≢│≢-│≢0│≢⌿│⍞000D└───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴──┴──┴──┴──┴──┴──┴──┘⍞000D⍞000D    disp clru base                      ⍝ check LRU clearing.⍞000D┌───┬───┬───┬───┬───┐⍞000D│⌿⌿ │⌿0 │⌿- │≢  │≠  │⍞000D├───┼───┼───┼───┼───┤⍞000D│⌿  │0  │-  │-≢ │-≠ │⍞000D├───┼───┼───┼───┼───┤⍞000D│-⌿ │-0 │-- │-≢≢│-≢≠│⍞000D├───┼───┼───┼───┼───┤⍞000D│-≢⌿│-≢0│-≢-│-≠≢│-≠≠│⍞000D├───┼───┼───┼───┼───┤⍞000D│-≠⌿│-≠0│-≠-│-⌿≢│-⌿≠│⍞000D└───┴───┴───┴───┴───┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Skewed six⍞000D⍞000D    base ← ''≡=-0+#''                     ⍝ Skewed six: ≡ is triple-minus.⍞000D⍞000D    sum  ← neg ← base ratsum            ⍝ sum and negative functions.⍞000D⍞000D    disp base table ¯8 to 8             ⍝ addition table ¯8..8⍞000D┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬───┬───┐⍞000D│≡#│=≡│==│=-│=0│=+│=#│-≡│-=│--│-0│-+│-#│≡ │= │-  │0  │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│=≡│==│=-│=0│=+│=#│-≡│-=│--│-0│-+│-#│≡ │= │- │0  │+  │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│==│=-│=0│=+│=#│-≡│-=│--│-0│-+│-#│≡ │= │- │0 │+  │#  │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│=-│=0│=+│=#│-≡│-=│--│-0│-+│-#│≡ │= │- │0 │+ │#  │+≡ │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│=0│=+│=#│-≡│-=│--│-0│-+│-#│≡ │= │- │0 │+ │# │+≡ │+= │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│=+│=#│-≡│-=│--│-0│-+│-#│≡ │= │- │0 │+ │# │+≡│+= │+- │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│=#│-≡│-=│--│-0│-+│-#│≡ │= │- │0 │+ │# │+≡│+=│+- │+0 │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│-≡│-=│--│-0│-+│-#│≡ │= │- │0 │+ │# │+≡│+=│+-│+0 │++ │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│-=│--│-0│-+│-#│≡ │= │- │0 │+ │# │+≡│+=│+-│+0│++ │+# │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│--│-0│-+│-#│≡ │= │- │0 │+ │# │+≡│+=│+-│+0│++│+# │#≡ │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│-0│-+│-#│≡ │= │- │0 │+ │# │+≡│+=│+-│+0│++│+#│#≡ │#= │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│-+│-#│≡ │= │- │0 │+ │# │+≡│+=│+-│+0│++│+#│#≡│#= │#- │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│-#│≡ │= │- │0 │+ │# │+≡│+=│+-│+0│++│+#│#≡│#=│#- │#0 │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│≡ │= │- │0 │+ │# │+≡│+=│+-│+0│++│+#│#≡│#=│#-│#0 │#+ │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│= │- │0 │+ │# │+≡│+=│+-│+0│++│+#│#≡│#=│#-│#0│#+ │## │⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│- │0 │+ │# │+≡│+=│+-│+0│++│+#│#≡│#=│#-│#0│#+│## │+≡≡│⍞000D├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼──┼───┼───┤⍞000D│0 │+ │# │+≡│+=│+-│+0│++│+#│#≡│#=│#-│#0│#+│##│+≡≡│+≡=│⍞000D└──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴───┴───┘⍞000D⍞000D    disp clru base                      ⍝ check LRU clearing.⍞000D┌───┬───┬───┬───┬───┬───┐⍞000D│+=≡│+≡#│+≡+│+≡0│+≡-│+≡=│⍞000D├───┼───┼───┼───┼───┼───┤⍞000D│+≡≡│## │#+ │#0 │#- │#= │⍞000D├───┼───┼───┼───┼───┼───┤⍞000D│#≡ │+# │++ │+0 │+- │+= │⍞000D├───┼───┼───┼───┼───┼───┤⍞000D│+≡ │#  │+  │0  │-  │=  │⍞000D├───┼───┼───┼───┼───┼───┤⍞000D│≡  │-# │-+ │-0 │-- │-= │⍞000D├───┼───┼───┼───┼───┼───┤⍞000D│-≡ │=# │=+ │=0 │=- │== │⍞000D└───┴───┴───┴───┴───┴───┘⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Errors⍞000D⍞000D    bad ← ⎕d ratsum⍞000D⍞000D    bad''1|2|3''⍞000D11::bad <>s⍞000D⍞000D    bad''<1|2>''              ⍝ (for the moment)⍞000D11::bad ||s⍞000D⍞000D    bad''<123>''              ⍝ (for the moment)⍞000D11::bad ||s⍞000D⍞000D    bad''<0|3x|0>''⍞000D11::bad char⍞000D⍞000D    bad''<9|5|>''⍞000D11::null field⍞000D⍞000D    ''123''ratsum''1''          ⍝ no zero.⍞000D11::missing zero⍞000D⍞000D    ''101''ratsum''1''          ⍝ too many ones.⍞000D11::duplicate digits⍞000D⍞000D    ''{012}3''ratsum''0''       ⍝ special chars excluded as digits.⍞000D11::bad digit⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Reciprocals⍞000D⍞000D    recip←{                             ⍝ check ⍵≡÷⍺ in current base.⍞000D        one←base enc(1+base⍳''0'')⊃base   ⍝ unity in current base.⍞000D        sum←↑base ratsum/⍺/⊂⍵~'' ''       ⍝ sum of ⍺ reciprocals⍞000D        ~sum≡,one:''wrong:'',sum          ⍝   should be unity.⍞000D    }                                   ⍝ :: n ∇ rexp⍞000D⍞000D    base ← ''{0123456789}''               ⍝ decimal reciprocals:⍞000D⍞000D        1 recip'' <0|1|0>        ''⍞000D        2 recip'' <0|0.5|0>      ''⍞000D        3 recip'' <0|0|3>        ''⍞000D        4 recip'' <0|0.25|0>     ''⍞000D        5 recip'' <0|0.2|0>      ''⍞000D        6 recip'' <0|0.1|6>      ''⍞000D        7 recip'' <0|0|142857>   ''⍞000D        8 recip'' <0|0.125|0>    ''⍞000D        9 recip'' <0|0|1>        ''⍞000D⍞000D    base ← ''{01}''                       ⍝ binary reciprocals:⍞000D⍞000D        1 recip'' <0|1|0>        ''⍞000D        2 recip'' <0|0.1|0>      ''⍞000D        3 recip'' <0|0|01>       ''⍞000D        4 recip'' <0|0.01|0>     ''⍞000D        5 recip'' <0|0|0011>     ''⍞000D        6 recip'' <0|0.0|01>     ''⍞000D        7 recip'' <0|0|001>      ''⍞000D        8 recip'' <0|0.001|0>    ''⍞000D        9 recip'' <0|0|000111>   ''⍞000D⍞000D    base ← ''{0123456789abcdef}''         ⍝ hexadecimal reciprocals:⍞000D⍞000D        1 recip'' <0|1|0>        ''⍞000D        2 recip'' <0|0.8|0>      ''⍞000D        3 recip'' <0|0|5>        ''⍞000D        4 recip'' <0|0.4|0>      ''⍞000D        5 recip'' <0|0|3>        ''⍞000D        6 recip'' <0|0.2|a>      ''⍞000D        7 recip'' <0|0|249>      ''⍞000D        8 recip'' <0|0.2|0>      ''⍞000D        9 recip'' <0|0|1c7>      ''⍞000D⍞000D    base ← ''{-0+}''                      ⍝ balanced ternary reciprocals:⍞000D⍞000D        1 recip'' <0|+|0>      ''⍞000D        2 recip'' <0|0|+>      ''⍞000D        3 recip'' <0|0.+|0>    ''⍞000D        4 recip'' <0|0|+->     ''⍞000D        5 recip'' <0|0|+--+>   ''⍞000D        6 recip'' <0|0.0|+>    ''⍞000D        7 recip'' <0|0|0++0--> ''⍞000D        8 recip'' <0|0|0+>     ''⍞000D        9 recip'' <0|0.0+|0>   ''⍞000D⍞000D    base ← ''{-0+#}''                     ⍝ pos-skewed four reciprocals:⍞000D⍞000D        1 recip'' <0|+|0>    ''⍞000D        2 recip'' <0|0.#|0>  ''⍞000D        3 recip'' <0|0|+>    ''⍞000D        4 recip'' <0|0.+|0>  ''⍞000D        5 recip'' <0|0|+->   ''⍞000D        6 recip'' <0|0.0|#>  ''⍞000D        7 recip'' <0|0|0#+>  ''⍞000D        8 recip'' <0|0.0#|0> ''⍞000D        9 recip'' <0|0|0#->  ''⍞000D⍞000D    base ← ''{=-0+}''                     ⍝ neg-skewed four reciprocals:⍞000D⍞000D        1 recip'' <0|+|0>    ''⍞000D        2 recip'' <0|+.=|0>  ''⍞000D        3 recip'' <0|0|+>    ''⍞000D        4 recip'' <0|0.+|0>  ''⍞000D        5 recip'' <0|0|+->   ''⍞000D        6 recip'' <0|0.+|->  ''⍞000D        7 recip'' <0|0|+=+>  ''⍞000D        8 recip'' <0|0.+=|0> ''⍞000D        9 recip'' <0|0|+=->  ''⍞000D⍞000D⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝ Misc⍞000D⍞000D    bt_r64 ← ''<0|0|000++-++---0-+0->''               ⍝ balanced ternary ÷64.⍞000D⍞000D    6(''-0+''ratsum{⍵ ⍺⍺ ⍵})pow bt_r64                ⍝ 6-fold doubling of ÷64 → 1⍞000D<0|+|0>⍞000D⍞000D    r99_2 ← {''<0|0|'',⍵,''99>''}↑,/1↓∘⍕¨100 to 197     ⍝ decimal ÷99×99⍞000D⍞000D    r99_2                                           ⍝ (longish rru):⍞000D<0|0|000102030405060708091011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969799>⍞000D⍞000D    ↑⎕d ratsum/99/⊂r99_2                            ⍝ 99 × ÷99×99 → ÷99⍞000D<0|0|01>⍞000D⍞000D⍝⍝⍝⍝ Various number systems ⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍞000D⍞000D    bases  ← ⍬                          ⍝ description       signature⍞000D                                        ⍝ ¯¯¯¯¯¯¯¯¯¯¯       ¯¯¯¯¯¯¯¯¯⍞000D    bases ,←⊂ ''0123456789''              ⍝ decimal           _0_9⍞000D    bases ,←⊂ ''01''                      ⍝ binary            _0_1⍞000D    bases ,←⊂ ''210''                     ⍝ negative ternary  _2_0⍞000D    bases ,←⊂ ''0123456789abcdef''        ⍝ hexadecimal       _0_15⍞000D    bases ,←⊂ ''-0+''                     ⍝ balanced ternary  _1_1⍞000D    bases ,←⊂ ''-0+#''                    ⍝ pos-skewed four   _1_2⍞000D    bases ,←⊂ ''=-0+''                    ⍝ neg-skewed four   _2_1⍞000D    bases ,←⊂ ''≡=-0+''                   ⍝ neg-skewed five   _3_1⍞000D    bases ,←⊂ ''=-0+#''                   ⍝ balanced five     _2_2⍞000D    bases ,←⊂ ''-0⌿≠≢''                   ⍝ pos-skewed five   _1_3⍞000D    bases ,←⊂ ''≡=-0+#''                  ⍝ skewed six        _3_2⍞000D    bases ,←⊂ ''=-0⌿≠≢''                  ⍝ skewed six        _2_3⍞000D    bases ,←⊂ ''-0⌿≠≢#''                  ⍝ skewed six        _1_4⍞000D    bases ,←⊂ ''≡=-0⌿≠≢''                 ⍝ balanced seven    _3_3⍞000D⍞000D    disp ↑bases encode¨⊂¯5 to 12        ⍝ ¯5..12 per number system.⍞000D┌────┬────┬───┬───┬──┬─┬──┬──┬───┬───┬───┬───┬───┬────┬────┬────┬────┬────┐⍞000D│¯5  │¯4  │¯3 │¯2 │¯1│0│1 │2 │3  │4  │5  │6  │7  │8   │9   │10  │11  │12  │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│¯101│¯100│¯11│¯10│¯1│0│1 │10│11 │100│101│110│111│1000│1001│1010│1011│1100│⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│12  │11  │10 │2  │1 │0│¯1│¯2│¯10│¯11│¯12│¯20│¯21│¯22 │¯100│¯101│¯102│¯110│⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│¯5  │¯4  │¯3 │¯2 │¯1│0│1 │2 │3  │4  │5  │6  │7  │8   │9   │a   │b   │c   │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-++ │--  │-0 │-+ │- │0│+ │+-│+0 │++ │+--│+-0│+-+│+0- │+00 │+0+ │++- │++0 │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│--  │-0  │-+ │-# │- │0│+ │# │+- │+0 │++ │+# │#- │#0  │#+  │##  │+-- │+-0 │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│--  │-0  │-+ │=  │- │0│+ │+=│+- │+0 │++ │+==│+=-│+=0 │+=+ │+-= │+-- │+-0 │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-0  │-+  │≡  │=  │- │0│+ │+≡│+= │+- │+0 │++ │+≡≡│+≡= │+≡- │+≡0 │+≡+ │+=≡ │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-0  │-+  │-# │=  │- │0│+ │# │+= │+- │+0 │++ │+# │#=  │#-  │#0  │#+  │##  │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-0  │-⌿  │-≠ │-≢ │- │0│⌿ │≠ │≢  │⌿- │⌿0 │⌿⌿ │⌿≠ │⌿≢  │≠-  │≠0  │≠⌿  │≠≠  │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-+  │-#  │≡  │=  │- │0│+ │# │+≡ │+= │+- │+0 │++ │+#  │#≡  │#=  │#-  │#0  │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-⌿  │-≠  │-≢ │=  │- │0│⌿ │≠ │≢  │⌿= │⌿- │⌿0 │⌿⌿ │⌿≠  │⌿≢  │≠=  │≠-  │≠0  │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-⌿  │-≠  │-≢ │-# │- │0│⌿ │≠ │≢  │#  │⌿- │⌿0 │⌿⌿ │⌿≠  │⌿≢  │⌿#  │≠-  │≠0  │⍞000D├────┼────┼───┼───┼──┼─┼──┼──┼───┼───┼───┼───┼───┼────┼────┼────┼────┼────┤⍞000D│-≠  │-≢  │≡  │=  │- │0│⌿ │≠ │≢  │⌿≡ │⌿= │⌿- │⌿0 │⌿⌿  │⌿≠  │⌿≢  │≠≡  │≠=  │⍞000D└────┴────┴───┴───┴──┴─┴──┴──┴───┴───┴───┴───┴───┴────┴────┴────┴────┴────┘⍞000D⍞000D    ⍝ Various answers to the meaning of Life, the Universe, and Everything:⍞000D⍞000D    disp ↑bases encode¨42⍞000D┌──┬──────┬─────┬──┬─────┬───┬────┬────┬───┬───┬───┬───┬───┬───┐⍞000D│42│101010│¯1120│2a│+---0│###│+--=│+≡-≡│#=#│⌿≢≠│++0│⌿⌿0│⌿⌿0│⌿-0│⍞000D└──┴──────┴─────┴──┴─────┴───┴────┴────┴───┴───┴───┴───┴───┴───┘⍞000D' 
